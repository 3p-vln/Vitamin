import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as t,s as n}from"./use-api-AcE-7l2M.js";import{J as c}from"./just-validate.es-C73wyOde.js";import"./js.cookie-Cz0CWeBA.js";async function i(){const o=new URL(window.location.href),e=document.querySelector(".recover__message"),s=document.querySelector(".custom-loader"),r=document.getElementById("reset-password-form"),a=o.searchParams.get("reset");a&&e&&s&&r&&("email"in await t(a)?(s.style.display="none",r.style.display="block"):window.location.href="/Vitamin")}async function l(o){const e=document.querySelector(".recover__message"),s=document.querySelector(".recover__form_new-password");"errors"in await n(o)?e&&(e.innerHTML='Oops. Error, the password has not been changed. Try again later.<a class="recover__link-login" href="/Vitamin/login.html"> Back to login</a>',e.classList.remove("recover__message_hidden"),e.style.color="red"):e&&s&&(s.remove(),e.innerHTML='The password was successfully changed  <a class="recover__link-login" href="/Vitamin/login.html"> Back to login</a>',e.classList.remove("recover__message_hidden"),e.style.color="green")}function d(){new c("#reset-password-form").addField("#reset-password",[{rule:"required",errorMessage:"Password required"},{rule:"minLength",value:8,errorMessage:"Password must contain a minimum of 8 characters"},{rule:"maxLength",value:50,errorMessage:"Password must not exceed 50 characters"},{rule:"customRegexp",value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/,errorMessage:"Must contain uppercase ,lowercase letter, and number"}]).onSuccess(async()=>{const s=new URL(window.location.href).searchParams.get("reset"),r=document.getElementById("reset-password");r instanceof HTMLInputElement&&s&&await l({resetToken:s,newPassword:r.value})})}document.addEventListener("DOMContentLoaded",async()=>{await i(),d()});
