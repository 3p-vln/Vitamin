import{g as o}from"./useCallDom-DDNnwvp7.js";import{a as w,A as L}from"./index-BBT-V0FT.js";function $(){const t=document.querySelectorAll(".header__user-name"),e=localStorage.getItem("userInfo");if(t&&e){const s=JSON.parse(e);t.forEach(n=>{const r=n;r.innerText=`${s.first_name} ${s.last_name}`})}}const p=o(".burger__btn"),c=o(".burger__menu.main"),_=o(".header__bag"),d=o(".header__logo"),f=o(".pack-info__bg_hulf-circle"),i=o(".header");function C(){if(!c)return;const t=o(".menu__item_shop",c),e=o(".menu__item_info",c),s=o(".header__profile",c),n=o(".burger__menu.shop"),r=o(".burger__menu.info"),a=o(".burger__menu.profile");x(),p&&t&&n&&e&&r&&s&&a&&(g("burger__btn","main"),g("menu__item_shop","shop"),g("menu__item_info","info"),g("header__profile_adapt","profile"),m("shop__title","shop"),m("info__title","info"),m("profile__title","profile")),$()}function g(t,e){if(t){const s=o(`.${t}`),n=o(`.${e}`);if(s&&n){s.addEventListener("click",()=>{const r=!n.classList.contains(`${e}_active`);if(n.classList.contains("main")){n.classList.toggle(`${e}_active`),s.classList.toggle(`${t}_active`),v(),k(),b(n,r);return}n.classList.add(`${e}_active`),b(n,r)});return}}}function m(t,e){if(t){const s=o(`.${t} .back-btn`),n=o(`.${e}`);if(s&&n){s.addEventListener("click",()=>{const r=!n.classList.contains(`${e}_active`);n.classList.remove(`${e}_active`),b(n,r)});return}}}function v(){if(_&&d&&c){if(c.classList.contains("main_active")){d.style.opacity="0",_.style.display="none",f&&(f.style.display="none");return}f&&(f.style.display="block"),d.style.opacity="1",_.style.display="block"}}function k(){if(!p)return;const t=o("body");if(t&&i){if(p.classList.contains("burger__btn_active")){t.style.overflow="hidden";return}t.style.overflow="auto",i.style.backgroundColor="white"}}function x(){i&&window.addEventListener("scroll",()=>{window.scrollY>50?(i.style.backgroundColor="white",i.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",i.style.transition="background-color 0.3s ease, box-shadow 0.3s ease"):(i.style.backgroundColor="transparent",i.style.boxShadow="none")})}function b(t,e){function n(a){return a<.5?2*a*a:-1+(4-2*a)*a}function r(a){const u=e?a:1-a;t.style.height=`${u*100}vh`,t.style.opacity=`${u}`}e&&(t.style.visibility="visible"),B({timing:n,draw:r,duration:300}),e||setTimeout(()=>{t.style.visibility="hidden",t.style.height="0"},300)}function B({timing:t,draw:e,duration:s}){let n=performance.now();requestAnimationFrame(function r(a){let l=(a-n)/s;l>1&&(l=1);let u=t(l);e(u),l<1&&requestAnimationFrame(r)})}const E="https://www.mku-journal.online",h=w.create({baseURL:E,headers:{"Content-Type":"application/json"}}),y=async t=>{try{return(await t).data}catch(e){return e instanceof L?(console.error("API error:",e.response?.data||e.message),{errors:[{message:e.response?.data?.message||e.message}]}):e instanceof Error?(console.error("General error:",e.message),{errors:[{message:e.message}]}):(console.error("Unknown error:",e),{errors:[{message:"An unexpected error occurred."}]})}},U=(t,e,s)=>y(h.get("/catalog/all-list",{params:{type:s,page:t,limit:e}})),M=t=>y(h.get(`/catalog/${t}/info`)),q=t=>y(h.get(`${t?"/catalog/recommendations?is_main=true":"/catalog/recommendations"}`));export{M as a,U as b,q as g,C as i};
