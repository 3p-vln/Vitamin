import"./style-dFOJvk-V.js";import{b as f,c as k,d as D,e as w,r as A,f as E,a as C,i as B}from"./useApi-CyBQx5Yn.js";import{r as N}from"./render-card-DUdUd0Ox.js";import{g as e,c as s}from"./useCallDom-DDNnwvp7.js";import"./index-wYSWI2m-.js";const M=new URLSearchParams(window.location.search),x=M.get("id")||void 0,d=e(".add-to-cart__btn");async function F(){if(d&&x){const t=await f(x);R(t)}}function R(t){d&&d.addEventListener("click",()=>{k(t)})}const U=new URLSearchParams(window.location.search),P=U.get("id")||void 0,l=e(".autoship__on-off");async function H(){if(l&&P){const t=await f(P);V(t)}}function V(t){if(l){if(l.classList.contains("autoship__on-off_active")){if(!JSON.parse(localStorage.getItem("cartItems")||"[]").some(n=>n.id===t.id)){D(t),w(t);return}w(t);return}A(t)}}const W=new URLSearchParams(window.location.search),v=W.get("id")||void 0;async function O(){const t=e(".autoship__dropdown");if(!v||!t)return;const i=await f(v);E(".count__counter"),J(i),j(),q(i),C(t)}function J(t){if(!t)return;const i=e(".ilustrate");if(!i)return;t.type==="Vitamins & Dietary Supplements"&&s(i,"add","ilustrate_purple"),t.type==="Minerals"&&s(i,"add","ilustrate_green-mint"),t.type==="Prenatal Vitamins"&&s(i,"add","ilustrate_pink"),t.type==="Pain Relief"&&s(i,"add","ilustrate_blue"),t.type==="Antioxidants"&&s(i,"add","ilustrate_orange"),t.type==="Weight Loss"&&s(i,"add","ilustrate_dark-blue"),(t.type==="Probiotics"||t.type==="Sale%")&&s(i,"add","ilustrate_red");const r=e(".ilustrate__content img");r.src=t.img;const n=e(".info__category"),a=e(".count__svg svg use");if(!n||!a)return;t.type==="Vitamins & Dietary Supplements"&&(s(n,"add","info__category_purple"),a.setAttribute("href","#can")),t.type==="Minerals"&&(s(n,"add","info__category_green-mint"),a.setAttribute("href","#bottle")),t.type==="Prenatal Vitamins"&&(s(n,"add","info__category_pink"),a.setAttribute("href","#kit")),t.type==="Pain Relief"&&(s(n,"add","info__category_blue"),a.setAttribute("href","#box")),t.type==="Antioxidants"&&(s(n,"add","info__category_orange"),a.setAttribute("href","#can")),t.type==="Weight Loss"&&(s(n,"add","info__category_dark-blue"),a.setAttribute("href","#bottle")),(t.type==="Probiotics"||t.type==="Sale%")&&(s(n,"add","info__category_red"),a.setAttribute("href","#kit")),n.innerText=t.type;const c=e(".info__name");if(!c)return;c.innerText=t.name;const o=e(".count__capsules span");if(!o)return;o.innerText=t.capsules.toString();const m=e(".count__mg span");if(!m)return;m.innerText=t.weight_mg.toString();const p=e(".autoship__text");if(!p)return;window.innerWidth<768&&(p.innerText="Deliver every");const S=_(t.price,t.discount),u=e(".add-to-cart__price");if(!u)return;t.type==="Sale%"?(s(u,"add","add-to-cart__price_sale"),u.innerHTML=`<span><span class="price">$${t.price}</span> <span class="discount">-${t.discount}%</span></span> $${S}`):u.innerText=`$${t.price}`,z(u,t);const g=e(".descripton__info");if(!g)return;g.innerText=t.description;const y=e(".safety .inf");if(!y)return;y.innerText=t.satefy_information;const h=e(".indications .inf");if(!h)return;h.innerText=t.indications;const b=e(".ingredients .inf");if(!b)return;b.innerText=t.ingradients;const T=e(".directions .inf");if(!T)return;T.innerText=t.directions;const $=e(".legal .inf");$&&($.innerText=t.legal_disclaimer)}function j(){const t=e(".info__backbtn");t&&t.addEventListener("click",()=>{window.location.href="shop.html"})}function q(t){const i=e(".autoship__on-off");if(!i)return;const r=e(".autoship__circle",i);r&&t.disabled_subscribe===!0&&i.addEventListener("click",async()=>{i.classList.toggle("autoship__on-off_active"),r.classList.toggle("autoship__circle_active"),H()})}function _(t,i,r=1){const n=parseFloat(t);if(isNaN(n))throw new Error("Invalid price format");return(n*(1-i/100)*r).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function L(t,i=1){const r=parseFloat(t);if(isNaN(r))throw new Error("Invalid price format");return(r*i).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function z(t,i){const r=e(".count__minus"),n=e(".count__plus");if(!t||!n||!r)return;let a=Number(e(".count__items")?.innerText),c="",o="";n.addEventListener("click",()=>{a=Number(e(".count__items")?.innerText),c=L(i.price,a),o=_(i.price,i.discount,a),i.type==="Sale%"?t.innerHTML=`<span>$${c} <span class="discount">-${i.discount}%</span></span> $${o}`:t.innerText=`$${c}`}),r.addEventListener("click",()=>{a=Number(e(".count__items")?.innerText),c=L(i.price,a),o=_(i.price,i.discount,a),i.type==="Sale%"?t.innerHTML=`<span>$${c} <span class="discount">-${i.discount}%</span></span> $${o}`:t.innerText=`$${c}`})}document.addEventListener("DOMContentLoaded",async()=>{B(),await O(),F(),N(".you-like__cards","gray")});
