import"./style-dFOJvk-V.js";import{b as l,c as P,d as k,e as T,r as $,a as A,i as C,f as E}from"./useApi-h8H9vdw_.js";import{g as D,r as B}from"./render-card-BjgDZ1h0.js";import{g as e,c as a}from"./useCallDom-DDNnwvp7.js";import"./index-wYSWI2m-.js";const R=new URLSearchParams(window.location.search),u=R.get("id")||void 0,M=localStorage.getItem("userInfo"),o=e(".add-to-cart__btn");async function V(){if(o&&(console.log(u,o),M&&u)){const t=await l(u);O(t)}}function O(t){o&&o.addEventListener("click",()=>{if(!JSON.parse(localStorage.getItem("cartItems")||"[]").some(n=>n.id===t.id)){P(t);return}k(t)})}const U=new URLSearchParams(window.location.search),S=U.get("id")||void 0,W=localStorage.getItem("userInfo"),d=e(".autoship__on-off");async function H(){if(d&&W&&S){const t=await l(S);J(t)}}function J(t){if(d){if(d.classList.contains("autoship__on-off_active")){if(!JSON.parse(localStorage.getItem("cartItems")||"[]").some(n=>n.id===t.id)){P(t),T(t);return}console.log(1),T(t);return}$(t)}}const N=new URLSearchParams(window.location.search),v=N.get("id")||void 0;async function j(){const t=e(".autoship__dropdown");if(!v||!t)return;const i=await l(v);q(i),z(),F(i),A(t)}function q(t){if(!t)return;const i=e(".ilustrate");if(!i)return;t.type==="Vitamins & Dietary Supplements"&&a(i,"add","ilustrate_purple"),t.type==="Minerals"&&a(i,"add","ilustrate_green-mint"),t.type==="Prenatal Vitamins"&&a(i,"add","ilustrate_pink"),t.type==="Pain Relief"&&a(i,"add","ilustrate_blue"),t.type==="Antioxidants"&&a(i,"add","ilustrate_orange"),t.type==="Weight Loss"&&a(i,"add","ilustrate_dark-blue"),(t.type==="Probiotics"||t.type==="Sale%")&&a(i,"add","ilustrate_red");const r=e(".ilustrate__content img");r.src=t.img;const n=e(".info__category"),s=e(".count__svg svg use");if(!n||!s)return;t.type==="Vitamins & Dietary Supplements"&&(a(n,"add","info__category_purple"),s.setAttribute("href","#can")),t.type==="Minerals"&&(a(n,"add","info__category_green-mint"),s.setAttribute("href","#bottle")),t.type==="Prenatal Vitamins"&&(a(n,"add","info__category_pink"),s.setAttribute("href","#kit")),t.type==="Pain Relief"&&(a(n,"add","info__category_blue"),s.setAttribute("href","#box")),t.type==="Antioxidants"&&(a(n,"add","info__category_orange"),s.setAttribute("href","#can")),t.type==="Weight Loss"&&(a(n,"add","info__category_dark-blue"),s.setAttribute("href","#bottle")),(t.type==="Probiotics"||t.type==="Sale%")&&(a(n,"add","info__category_red"),s.setAttribute("href","#kit")),n.innerText=t.type;const _=e(".info__name");if(!_)return;_.innerText=t.name;const f=e(".count__capsules span");if(!f)return;f.innerText=t.capsules.toString();const g=e(".count__mg span");if(!g)return;g.innerText=t.weight_mg.toString();const m=e(".autoship__text");if(!m)return;window.innerWidth<768&&(m.innerText="Deliver every");const L=D(t.price,t.discount),c=e(".add-to-cart__price");if(!c)return;t.type==="Sale%"?(a(c,"add","add-to-cart__price_sale"),c.innerHTML=`<span>$${t.price}</span> $${L}`):c.innerText=`$${t.price}`;const p=e(".descripton__info");if(!p)return;p.innerText=t.description;const y=e(".safety .inf");if(!y)return;y.innerText=t.satefy_information;const h=e(".indications .inf");if(!h)return;h.innerText=t.indications;const b=e(".ingredients .inf");if(!b)return;b.innerText=t.ingradients;const w=e(".directions .inf");if(!w)return;w.innerText=t.directions;const x=e(".legal .inf");x&&(x.innerText=t.legal_disclaimer)}function z(){const t=e(".info__backbtn");t&&t.addEventListener("click",()=>{window.location.href="shop.html"})}function F(t){const i=e(".autoship__on-off");if(!i)return;const r=e(".autoship__circle",i);if(!r)return;const n=localStorage.getItem("userInfo");console.log(i),t.disabled_subscribe===!0&&n&&i.addEventListener("click",async()=>{i.classList.toggle("autoship__on-off_active"),r.classList.toggle("autoship__circle_active"),H()})}document.addEventListener("DOMContentLoaded",async()=>{C(),await j(),E(".count__counter"),V(),B(".you-like__cards","gray")});
