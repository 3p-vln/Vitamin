import{a as h,g as f,c as g}from"./use-call-dom-DDNnwvp7.js";const w="modulepreload",b=function(n){return"/Vitamin/"+n},v={},x=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");r=Promise.all(t.map(c=>{if(c=b(c),c in v)return;v[c]=!0;const u=c.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(!!i)for(let d=o.length-1;d>=0;d--){const m=o[d];if(m.href===c&&(!u||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${p}`))return;const a=document.createElement("link");if(a.rel=u?"stylesheet":w,u||(a.as="script",a.crossOrigin=""),a.href=c,l&&a.setAttribute("nonce",l),document.head.appendChild(a),u)return new Promise((d,m)=>{a.addEventListener("load",d),a.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}return r.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function I(n,e){const t=document.querySelector(e);if(!t)return;new IntersectionObserver(async(r,o)=>{for(const s of r)if(s.isIntersecting){o.unobserve(s.target);try{await(await n()).default()}catch(l){console.error(`Ошибка загрузки модуля для ${e}:`,l)}}},{threshold:.1}).observe(t)}function P(){document.addEventListener("DOMContentLoaded",()=>{const n=h("img.lazy"),e=new IntersectionObserver((t,i)=>{t.forEach(r=>{if(r.isIntersecting){const o=r.target;o.dataset.src&&(o.src=o.dataset.src,o.removeAttribute("data-src")),i.unobserve(o)}})},{rootMargin:"100px"});n.forEach(t=>e.observe(t))})}function S(n){const e=f(".dropdown",n),t=f(".dropdown__box",n),i=f(".dropdown__text",n),r=f(".dropdown__list",n),o=h(".dropdown__item",n);!e||!t||!i||!r||!o||(e.addEventListener("click",s=>_(s,t,r)),o.forEach(s=>{s.addEventListener("click",()=>y(s,i,t,r))}),document.addEventListener("click",s=>k(s,e,r,t)))}function _(n,e,t){n.stopPropagation(),e&&(e.classList.toggle("dropdown__box_active"),t&&t.classList.toggle("dropdown__list_active"))}function E(n,e){n&&(g(n,"remove","dropdown__box_active"),e&&g(e,"remove","dropdown__list_active"))}function y(n,e,t,i){const r=n.textContent;if(r&&e){if(e.tagName.toLowerCase()==="p"&&(e.textContent=r),e.tagName.toLowerCase()==="input"){e.value=r;const o=f("#state-hidden");if(!o)return;o.value=r}_(event,t,i)}}function k(n,e,t,i){e&&t&&!e.contains(n.target)&&!t.contains(n.target)&&E(i,t)}export{x as _,S as i,P as l,I as u};
