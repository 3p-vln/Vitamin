function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/header--YziB-MN.js","assets/use-call-dom-CaqOo_cc.js","assets/order-list-5R4BHsYr.js","assets/use-api-Bg0RsZwB.js","assets/js.cookie-Cz0CWeBA.js","assets/render-cart-Cn7X6-p6.js","assets/dropdown-ojf4R2tx.js","assets/order-accordion-B-LvdnjP.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{g as a}from"./use-call-dom-CaqOo_cc.js";/* empty css              */import{u as y,s as x,r as O,_ as I}from"./lazy-load-V4MgisZy.js";import{i as w}from"./dropdown-ojf4R2tx.js";import{J as E}from"./just-validate.es-C73wyOde.js";import{h as V}from"./use-api-Bg0RsZwB.js";import{I as h}from"./index-yFKSUj0c.js";import"./js.cookie-Cz0CWeBA.js";function z(){return new Promise(r=>{const s=a("#create-order");if(!s)return;const o=new E(s,{errorLabelStyle:{color:"#ff7d4e"},focusInvalidField:!0,lockForm:!1,validateBeforeSubmitting:!0});o.addField("#first-name",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:2,errorMessage:"Must be at least 2 characters"},{rule:"maxLength",value:50,errorMessage:"Must be less than 50 characters"},{rule:"customRegexp",value:/^[\p{L}]+$/u,errorMessage:"Only letters are allowed"}]).addField("#last-name",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:2,errorMessage:"Must be at least 2 characters"},{rule:"maxLength",value:50,errorMessage:"Must be less than 50 characters"},{rule:"customRegexp",value:/^[\p{L}]+$/u,errorMessage:"Only letters are allowed"}]).addField("#address-line1",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:5,errorMessage:"Must be at least 5 characters"},{rule:"maxLength",value:50,errorMessage:"Must be less than 50 characters"},{rule:"customRegexp",value:/^[\p{L}\d.,\s]+$/u,errorMessage:"Write correct address"}]).addField("#address-line2",[{rule:"minLength",value:5,errorMessage:"Must be at least 5 characters"},{rule:"maxLength",value:50,errorMessage:"Must be less than 50 characters"},{rule:"customRegexp",value:/^[\p{L}\d.,\s]+$/u,errorMessage:"Write correct address"}]).addField("#city",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:2,errorMessage:"Must be at least 2 characters"},{rule:"maxLength",value:50,errorMessage:"Must be less than 50 characters"},{rule:"customRegexp",value:/^[\p{L}]+$/u,errorMessage:"Enter a valid city name"}]).addField("#state",[{rule:"required",errorMessage:"This field is required"}]).addField("#zip",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:3,errorMessage:"Must be at least 3 characters"},{rule:"maxLength",value:10,errorMessage:"Must be less than 10 characters"},{rule:"customRegexp",value:/^\d+$/,errorMessage:"Enter a valid ZIP / Postal Code"}]).addField("#mail",[{rule:"required",errorMessage:"This field is required"},{rule:"customRegexp",value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z]{2,})$/,errorMessage:"Write correct email"}]).addField("#phone",[{rule:"required",errorMessage:"This field is required"},{rule:"custom",validator:n=>{const F=[{mask:"+{1} (000) 000-0000",startsWith:"1"},{mask:"+{7} (000) 000-00-00",startsWith:"7"},{mask:"+{380} (00) 000-00-00",startsWith:"380"},{mask:"+{44} (0000) 000000",startsWith:"44"},{mask:"+{49} (000) 000-0000",startsWith:"49"},{mask:"+{86} (000) 0000-0000",startsWith:"86"},{mask:"+{33} (0) 0 00 00 00 00",startsWith:"33"},{mask:"+{39} 0 000 000 000",startsWith:"39"},{mask:"+{34} 000 000 000",startsWith:"34"},{mask:"+{61} (0) 0000 0000",startsWith:"61"},{mask:"+{81} (0) 0-0000-0000",startsWith:"81"},{mask:"+{91} 0000 000 000",startsWith:"91"},{mask:"+{52} (0) 000 0000 0000",startsWith:"52"},{mask:"+{55} (0) 00 0000-0000",startsWith:"55"},{mask:"+{82} (0) 0-0000-0000",startsWith:"82"},{mask:"+{90} 000 000 00 00",startsWith:"90"},{mask:"+{27} 000 000 000",startsWith:"27"},{mask:"+{64} 0 000 000 000",startsWith:"64"},{mask:"+{65} 0000 0000",startsWith:"65"},{mask:"+{48} 000 000 000",startsWith:"48"}],S=n.replace(/\D/g,"");return F.some(T=>S.startsWith(T.startsWith))},errorMessage:"The number must start with one of the valid country codes."}]).addField("#card",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:19,errorMessage:"Must be at least 16 characters"}]).addField("#expiration",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:5,errorMessage:"Must be at least 4 characters"}]).addField("#cvc",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:3,errorMessage:"Must be at least 3 characters"}]),o.validate(),o.onSuccess(()=>r(!0)),o.onFail(()=>r(!1))})}const L=a(".create-order-form__btn"),b=a(".order-list__btn"),t=JSON.parse(localStorage.getItem("userInfo")||"null"),i=JSON.parse(localStorage.getItem("orderInfo")||"null"),f=a("#first-name"),g=a("#last-name"),p=a("#address-line1"),M=a("#address-line2"),k=a("#city"),v=a("#state"),W=a("#zip"),_=a("#mail"),d=a("#phone"),u=a("#card"),c=a("#expiration"),m=a("#cvc"),q=[f,g,p,M,k,v,W,_,d,u,c,m];function N(){!L||!b||($(),D(),b.addEventListener("click",()=>{L.click()}),L.addEventListener("click",async()=>{try{await z()&&(P(),R())}catch(r){console.error(r)}}))}function R(){t||(localStorage.removeItem("cartItems"),window.location.href="/Vitamin/successful-order.html");const r=JSON.parse(localStorage.getItem("cartItems")||"[]");if(r.length===0)return;const s={order:r.map(o=>({product_id:o.id,quantity:o.counts})),user_id:t.user_id};try{V(s).then(()=>{localStorage.removeItem("cartItems"),window.location.href="/Vitamin/successful-order.html"})}catch(o){console.error(o)}}function D(){!u||!c||!m||!d||(h(u,{mask:"0000-0000-0000-0000"}),h(c,{mask:"00/00"}),h(m,{mask:"000"}),h(d,{mask:[{mask:"+{1} (000) 000-0000",startsWith:"1"},{mask:"+{7} (000) 000-00-00",startsWith:"7"},{mask:"+{380} (00) 000-00-00",startsWith:"380"},{mask:"+{44} (0000) 000000",startsWith:"44"},{mask:"+{49} (000) 000-0000",startsWith:"49"},{mask:"+{86} (000) 0000-0000",startsWith:"86"},{mask:"+{33} (0) 0 00 00 00 00",startsWith:"33"},{mask:"+{39} 0 000 000 000",startsWith:"39"},{mask:"+{34} 000 000 000",startsWith:"34"},{mask:"+{61} (0) 0000 0000",startsWith:"61"},{mask:"+{81} (0) 0-0000-0000",startsWith:"81"},{mask:"+{91} 0000 000 000",startsWith:"91"},{mask:"+{52} (0) 000 0000 0000",startsWith:"52"},{mask:"+{55} (0) 00 0000-0000",startsWith:"55"},{mask:"+{82} (0) 0-0000-0000",startsWith:"82"},{mask:"+{90} 000 000 00 00",startsWith:"90"},{mask:"+{27} 000 000 000",startsWith:"27"},{mask:"+{64} 0 000 000 000",startsWith:"64"},{mask:"+{65} 0000 0000",startsWith:"65"},{mask:"+{48} 000 000 000",startsWith:"48"},{mask:"+000 (00) 000-00-00",startsWith:""}],dispatch:(r,s)=>{let o=(s.value+r).replace(/\D/g,"");return s.compiledMasks.find(n=>n.startsWith&&o.startsWith(n.startsWith))||s.compiledMasks[s.compiledMasks.length-1]}}))}function l(r){if(r)return r.value}function P(){if(q.some(s=>!s))return;const r={firstName:l(f),lastName:l(g),addressFirst:l(p),addressSecond:l(M),city:l(k),state:l(v),zip:l(W),email:l(_),phone:l(d),card:l(u),date:l(c),cvc:l(m)};localStorage.setItem("orderInfo",JSON.stringify(r))}function e(r,s){r&&(r.value=s||"")}function $(){if(!q.some(r=>r===null)&&!(!t&&!i)){if(i&&!t){e(f,i.firstName),e(g,i.lastName),e(p,i.addressFirst),e(M,i.addressSecond),e(k,i.city),e(v,i.state),e(W,i.zip),e(_,i.email),e(d,i.phone),e(u,i.card),e(c,i.date),e(m,i.cvc);return}if(t){if(e(f,t.first_name),e(g,t.last_name),e(p,t.address_one),e(M,t.address_two),e(k,t.city),e(v,t.state_province),e(W,t.postal_code),e(_,t.email),e(d,t.phone),!t.card_info)return;e(u,t.card_info.card_number),e(c,t.card_info.card_date),e(m,t.card_info.card_cvv);return}}}document.addEventListener("DOMContentLoaded",async()=>{[{importFn:()=>I(()=>import("./header--YziB-MN.js"),__vite__mapDeps([0,1])),selector:".header"},{importFn:()=>I(()=>import("./order-list-5R4BHsYr.js"),__vite__mapDeps([2,1,3,4,5,6])),selector:".order-list__prods"},{importFn:()=>I(()=>import("./order-accordion-B-LvdnjP.js"),__vite__mapDeps([7,1])),selector:".accordion"}].forEach(({importFn:o,selector:n})=>y(o,n)),N();const s=a(".deliver-info__subitem_dropdown");s&&(w(s),x())});O();
