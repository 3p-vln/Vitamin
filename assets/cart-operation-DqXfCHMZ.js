import{j as f}from"./use-api-CoVlJz1c.js";import{g as n}from"./use-call-dom-8Q8ZjlCD.js";import{r as _,t as u,b as m,u as d,l,e as b}from"./render-cart-BSVPqZQw.js";let p;async function k(e){for(const o of e)try{let r=JSON.parse(localStorage.getItem("cartItems")||"[]");const t=await f(o);if("errors"in t){console.error(t);return}const s=n(`.prod_${t.id} .prod__checkbox input`),c=n(`.prod_${t.id} .dropdown__text`);if(!r.some(h=>h.id===t.id)){_(t,!0,"30",1),u(),m();continue}const i=n(`.prod_${t.id} .counter__items`);if(!s||!c||!i)return;const a=Number(i.textContent)+1;a>=999?d(`${t.id}`,s.checked,c.textContent||"30",999):d(`${t.id}`,s.checked,c.textContent||"30",a),l(),u()}catch(r){console.error(r)}}async function g(e){for(const o of e)try{let r=JSON.parse(localStorage.getItem("cartItems")||"[]");const t=await f(o.id);if("errors"in t){console.error(t);return}const s=n(`.prod_${t.id} .prod__checkbox input`),c=n(`.prod_${t.id} .dropdown__text`);if(!r.some(h=>h.id===t.id)){_(t,!1,"30",o.counts),u(),m();continue}const i=n(`.prod_${t.id} .counter__items`);if(!s||!c||!i)return;const a=Number(i.textContent)+o.counts;a>=999?d(`${t.id}`,s.checked,c.textContent||"30",999):d(`${t.id}`,s.checked,c.textContent||"30",a),l(),u()}catch(r){console.error(r)}}function y(e){let o=JSON.parse(localStorage.getItem("cartItems")||"[]");o.length===0&&(p=!0,b(p)),o.some(t=>t.id===e.id)||_(e),u(),m()}function N(e){if(!e.disabled_subscribe)return;const o=n(`.prod_${e.id} .prod__checkbox input`),r=n(`.prod_${e.id} .dropdown__text`),t=n(".autoship__dropdown .dropdown__text");if(!t)return;const s=t.textContent,c=n(`.prod_${e.id} .counter__items`);!o||!r||!s||!c||(o.checked=!0,r.innerText=s,d(`${e.id}`,o.checked,r.textContent||"30",Number(c.textContent)))}function S(e){if(!e.disabled_subscribe)return;const o=n(`.prod_${e.id} .prod__checkbox input`),r=n(`.prod_${e.id} .dropdown__text`),t=n(`.prod_${e.id} .counter__items`);!o||!r||!t||(o.checked=!1,d(`${e.id}`,o.checked,r.textContent||"30",Number(t.textContent)))}function w(e){const o=n(`.prod_${e.id} .prod__checkbox input`),r=n(`.prod_${e.id} .dropdown__text`),t=n(`.prod_${e.id} .counter__items`),s=n(".count__counter .counter__items");let c=JSON.parse(localStorage.getItem("cartItems")||"[]");c.length===0&&(p=!0,b(p));const x=c.some(a=>a.id===e.id);if(!s)return;if(!x){_(e,!1,"30",Number(s.innerText)),u(),m();return}if(!o||!r||!t)return;const i=Number(t.textContent)+Number(s.innerText);i>999||i==999?d(`${e.id}`,o.checked,r.textContent||"30",999):d(`${e.id}`,o.checked,r.textContent||"30",i),l(),u()}export{k as a,g as b,y as c,N as d,w as e,S as r};
