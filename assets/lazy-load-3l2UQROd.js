import{a as v,c as b}from"./use-call-dom-8Q8ZjlCD.js";const p="modulepreload",y=function(t){return"/Vitamin/"+t},m={},I=function(s,e,c){let o=Promise.resolve();if(e&&e.length>0){const n=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),l=r?.nonce||r?.getAttribute("nonce");o=Promise.all(e.map(i=>{if(i=y(i),i in m)return;m[i]=!0;const u=i.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(!!c)for(let f=n.length-1;f>=0;f--){const d=n[f];if(d.href===i&&(!u||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${g}`))return;const a=document.createElement("link");if(a.rel=u?"stylesheet":p,u||(a.as="script",a.crossOrigin=""),a.href=i,l&&a.setAttribute("nonce",l),document.head.appendChild(a),u)return new Promise((f,d)=>{a.addEventListener("load",f),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})}))}return o.then(()=>s()).catch(n=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n})};function C(){document.addEventListener("loadingIsFinished",()=>{setTimeout(()=>{v(".skeleton").forEach(s=>{b(s,"remove","skeleton")})},2e3)})}function L(){const t=new CustomEvent("loadingIsFinished");document.dispatchEvent(t)}function E(t){const{callback:s,options:e={},multipleObservers:c=!1}=t,o=new IntersectionObserver(s,e);if(!c)return o}function h(t,s){const e=E(s);e&&(Array.isArray(t)?t.forEach(c=>e.observe(c)):e.observe(t))}function S(t,s){const e=document.querySelector(s);if(!e)return;h(e,{callback:async(o,n)=>{for(const r of o)if(r.isIntersecting){n.unobserve(r.target);try{await(await t()).default()}catch(l){console.error(`Ошибка загрузки модуля для ${s}:`,l)}}},options:{threshold:.1}})}function O(){document.addEventListener("DOMContentLoaded",()=>{const t=v("img.lazy"),s={callback:(e,c)=>{e.forEach(o=>{if(o.isIntersecting){const n=o.target;n.dataset.src&&(n.src=n.dataset.src,n.removeAttribute("data-src")),c.unobserve(n)}})},options:{rootMargin:"100px"}};t.forEach(e=>h(e,s))})}export{I as _,O as l,h as o,C as r,L as s,S as u};
