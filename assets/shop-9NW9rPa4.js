import{g as F,a as Z,c as z}from"./useCallDom-CYt_pDlL.js";import{i as ie}from"./useApi-Bi0IovR0.js";import{e as ne,c as se,m as w,a as le,b as W,d as re,g as V,S as oe}from"./swiper-core-Drop_04u.js";import{a as X,u as Y}from"./render-card-D7oVTrXt.js";const G=F(".dropdown"),j=F(".dropdown__box"),J=F(".dropdown__text"),q=F(".dropdown__list"),K=Z(".dropdown__item");function pe(){G&&(G.addEventListener("click",c=>ee(c)),K&&(K.forEach(c=>{c.addEventListener("click",()=>de(c))}),document.addEventListener("click",c=>ue(c))))}function ee(c){c.stopPropagation(),j&&(j.classList.toggle("dropdown__box_active"),q&&q.classList.toggle("dropdown__list_active"))}function ce(){j&&(z(j,"remove","dropdown__box_active"),q&&z(q,"remove","dropdown__list_active"))}function de(c){const e=c.textContent;e&&J&&(J.textContent=e,ee(event))}function ue(c){G&&q&&!G.contains(c.target)&&!q.contains(c.target)&&ce()}function te(c,e,v,r){return c.params.createElements&&Object.keys(r).forEach(o=>{if(!v[o]&&v.auto===!0){let l=ne(c.el,`.${r[o]}`)[0];l||(l=se("div",r[o]),l.className=r[o],c.el.append(l)),v[o]=l,e[o]=l}}),v}function fe(c){let{swiper:e,extendParams:v,on:r,emit:o}=c;v({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function l(n){let s;return n&&typeof n=="string"&&e.isElement&&(s=e.el.querySelector(n)||e.hostEl.querySelector(n),s)?s:(n&&(typeof n=="string"&&(s=[...document.querySelectorAll(n)]),e.params.uniqueNavElements&&typeof n=="string"&&s&&s.length>1&&e.el.querySelectorAll(n).length===1?s=e.el.querySelector(n):s&&s.length===1&&(s=s[0])),n&&!s?n:s)}function y(n,s){const u=e.params.navigation;n=w(n),n.forEach(d=>{d&&(d.classList[s?"add":"remove"](...u.disabledClass.split(" ")),d.tagName==="BUTTON"&&(d.disabled=s),e.params.watchOverflow&&e.enabled&&d.classList[e.isLocked?"add":"remove"](u.lockClass))})}function h(){const{nextEl:n,prevEl:s}=e.navigation;if(e.params.loop){y(s,!1),y(n,!1);return}y(s,e.isBeginning&&!e.params.rewind),y(n,e.isEnd&&!e.params.rewind)}function B(n){n.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),o("navigationPrev"))}function _(n){n.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),o("navigationNext"))}function L(){const n=e.params.navigation;if(e.params.navigation=te(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(n.nextEl||n.prevEl))return;let s=l(n.nextEl),u=l(n.prevEl);Object.assign(e.navigation,{nextEl:s,prevEl:u}),s=w(s),u=w(u);const d=(t,a)=>{t&&t.addEventListener("click",a==="next"?_:B),!e.enabled&&t&&t.classList.add(...n.lockClass.split(" "))};s.forEach(t=>d(t,"next")),u.forEach(t=>d(t,"prev"))}function $(){let{nextEl:n,prevEl:s}=e.navigation;n=w(n),s=w(s);const u=(d,t)=>{d.removeEventListener("click",t==="next"?_:B),d.classList.remove(...e.params.navigation.disabledClass.split(" "))};n.forEach(d=>u(d,"next")),s.forEach(d=>u(d,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?D():(L(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{$()}),r("enable disable",()=>{let{nextEl:n,prevEl:s}=e.navigation;if(n=w(n),s=w(s),e.enabled){h();return}[...n,...s].filter(u=>!!u).forEach(u=>u.classList.add(e.params.navigation.lockClass))}),r("click",(n,s)=>{let{nextEl:u,prevEl:d}=e.navigation;u=w(u),d=w(d);const t=s.target;let a=d.includes(t)||u.includes(t);if(e.isElement&&!a){const i=s.path||s.composedPath&&s.composedPath();i&&(a=i.find(p=>u.includes(p)||d.includes(p)))}if(e.params.navigation.hideOnClick&&!a){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===t||e.pagination.el.contains(t)))return;let i;u.length?i=u[0].classList.contains(e.params.navigation.hiddenClass):d.length&&(i=d[0].classList.contains(e.params.navigation.hiddenClass)),o(i===!0?"navigationShow":"navigationHide"),[...u,...d].filter(p=>!!p).forEach(p=>p.classList.toggle(e.params.navigation.hiddenClass))}});const T=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),L(),h()},D=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),$()};Object.assign(e.navigation,{enable:T,disable:D,update:h,init:L,destroy:$})}function N(c){return c===void 0&&(c=""),`.${c.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function me(c){let{swiper:e,extendParams:v,on:r,emit:o}=c;const l="swiper-pagination";v({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`,paginationDisabledClass:`${l}-disabled`}}),e.pagination={el:null,bullets:[]};let y,h=0;function B(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function _(t,a){const{bulletActiveClass:i}=e.params.pagination;t&&(t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${i}-${a}`),t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${i}-${a}-${a}`)))}function L(t,a,i){if(t=t%i,a=a%i,a===t+1)return"next";if(a===t-1)return"previous"}function $(t){const a=t.target.closest(N(e.params.pagination.bulletClass));if(!a)return;t.preventDefault();const i=W(a)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===i)return;const p=L(e.realIndex,i,e.slides.length);p==="next"?e.slideNext():p==="previous"?e.slidePrev():e.slideToLoop(i)}else e.slideTo(i)}function T(){const t=e.rtl,a=e.params.pagination;if(B())return;let i=e.pagination.el;i=w(i);let p,b;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,M=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(b=e.previousRealIndex||0,p=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(p=e.snapIndex,b=e.previousSnapIndex):(b=e.previousIndex||0,p=e.activeIndex||0),a.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const f=e.pagination.bullets;let C,x,O;if(a.dynamicBullets&&(y=le(f[0],e.isHorizontal()?"width":"height",!0),i.forEach(g=>{g.style[e.isHorizontal()?"width":"height"]=`${y*(a.dynamicMainBullets+4)}px`}),a.dynamicMainBullets>1&&b!==void 0&&(h+=p-(b||0),h>a.dynamicMainBullets-1?h=a.dynamicMainBullets-1:h<0&&(h=0)),C=Math.max(p-h,0),x=C+(Math.min(f.length,a.dynamicMainBullets)-1),O=(x+C)/2),f.forEach(g=>{const E=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(S=>`${a.bulletActiveClass}${S}`)].map(S=>typeof S=="string"&&S.includes(" ")?S.split(" "):S).flat();g.classList.remove(...E)}),i.length>1)f.forEach(g=>{const E=W(g);E===p?g.classList.add(...a.bulletActiveClass.split(" ")):e.isElement&&g.setAttribute("part","bullet"),a.dynamicBullets&&(E>=C&&E<=x&&g.classList.add(...`${a.bulletActiveClass}-main`.split(" ")),E===C&&_(g,"prev"),E===x&&_(g,"next"))});else{const g=f[p];if(g&&g.classList.add(...a.bulletActiveClass.split(" ")),e.isElement&&f.forEach((E,S)=>{E.setAttribute("part",S===p?"bullet-active":"bullet")}),a.dynamicBullets){const E=f[C],S=f[x];for(let I=C;I<=x;I+=1)f[I]&&f[I].classList.add(...`${a.bulletActiveClass}-main`.split(" "));_(E,"prev"),_(S,"next")}}if(a.dynamicBullets){const g=Math.min(f.length,a.dynamicMainBullets+4),E=(y*g-y)/2-O*y,S=t?"right":"left";f.forEach(I=>{I.style[e.isHorizontal()?S:"top"]=`${E}px`})}}i.forEach((f,C)=>{if(a.type==="fraction"&&(f.querySelectorAll(N(a.currentClass)).forEach(x=>{x.textContent=a.formatFractionCurrent(p+1)}),f.querySelectorAll(N(a.totalClass)).forEach(x=>{x.textContent=a.formatFractionTotal(M)})),a.type==="progressbar"){let x;a.progressbarOpposite?x=e.isHorizontal()?"vertical":"horizontal":x=e.isHorizontal()?"horizontal":"vertical";const O=(p+1)/M;let g=1,E=1;x==="horizontal"?g=O:E=O,f.querySelectorAll(N(a.progressbarFillClass)).forEach(S=>{S.style.transform=`translate3d(0,0,0) scaleX(${g}) scaleY(${E})`,S.style.transitionDuration=`${e.params.speed}ms`})}a.type==="custom"&&a.renderCustom?(f.innerHTML=a.renderCustom(e,p+1,M),C===0&&o("paginationRender",f)):(C===0&&o("paginationRender",f),o("paginationUpdate",f)),e.params.watchOverflow&&e.enabled&&f.classList[e.isLocked?"add":"remove"](a.lockClass)})}function D(){const t=e.params.pagination;if(B())return;const a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let i=e.pagination.el;i=w(i);let p="";if(t.type==="bullets"){let b=e.params.loop?Math.ceil(a/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&b>a&&(b=a);for(let A=0;A<b;A+=1)t.renderBullet?p+=t.renderBullet.call(e,A,t.bulletClass):p+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?p=t.renderFraction.call(e,t.currentClass,t.totalClass):p=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?p=t.renderProgressbar.call(e,t.progressbarFillClass):p=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],i.forEach(b=>{t.type!=="custom"&&(b.innerHTML=p||""),t.type==="bullets"&&e.pagination.bullets.push(...b.querySelectorAll(N(t.bulletClass)))}),t.type!=="custom"&&o("paginationRender",i[0])}function n(){e.params.pagination=te(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let a;typeof t.el=="string"&&e.isElement&&(a=e.el.querySelector(t.el)),!a&&typeof t.el=="string"&&(a=[...document.querySelectorAll(t.el)]),a||(a=t.el),!(!a||a.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(a)&&a.length>1&&(a=[...e.el.querySelectorAll(t.el)],a.length>1&&(a=a.find(i=>re(i,".swiper")[0]===e.el))),Array.isArray(a)&&a.length===1&&(a=a[0]),Object.assign(e.pagination,{el:a}),a=w(a),a.forEach(i=>{t.type==="bullets"&&t.clickable&&i.classList.add(...(t.clickableClass||"").split(" ")),i.classList.add(t.modifierClass+t.type),i.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(i.classList.add(`${t.modifierClass}${t.type}-dynamic`),h=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&i.classList.add(t.progressbarOppositeClass),t.clickable&&i.addEventListener("click",$),e.enabled||i.classList.add(t.lockClass)}))}function s(){const t=e.params.pagination;if(B())return;let a=e.pagination.el;a&&(a=w(a),a.forEach(i=>{i.classList.remove(t.hiddenClass),i.classList.remove(t.modifierClass+t.type),i.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(i.classList.remove(...(t.clickableClass||"").split(" ")),i.removeEventListener("click",$))})),e.pagination.bullets&&e.pagination.bullets.forEach(i=>i.classList.remove(...t.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:a}=e.pagination;a=w(a),a.forEach(i=>{i.classList.remove(t.horizontalClass,t.verticalClass),i.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?d():(n(),D(),T())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&T()}),r("snapIndexChange",()=>{T()}),r("snapGridLengthChange",()=>{D(),T()}),r("destroy",()=>{s()}),r("enable disable",()=>{let{el:t}=e.pagination;t&&(t=w(t),t.forEach(a=>a.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{T()}),r("click",(t,a)=>{const i=a.target,p=w(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&p&&p.length>0&&!i.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;const b=p[0].classList.contains(e.params.pagination.hiddenClass);o(b===!0?"paginationShow":"paginationHide"),p.forEach(A=>A.classList.toggle(e.params.pagination.hiddenClass))}});const u=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=w(t),t.forEach(a=>a.classList.remove(e.params.pagination.paginationDisabledClass))),n(),D(),T()},d=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=w(t),t.forEach(a=>a.classList.add(e.params.pagination.paginationDisabledClass))),s()};Object.assign(e.pagination,{enable:u,disable:d,render:D,update:T,init:n,destroy:s})}function ge(c){let{swiper:e,extendParams:v,on:r,emit:o,params:l}=c;e.autoplay={running:!1,paused:!1,timeLeft:0},v({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let y,h,B=l&&l.autoplay?l.autoplay.delay:3e3,_=l&&l.autoplay?l.autoplay.delay:3e3,L,$=new Date().getTime(),T,D,n,s,u,d,t;function a(m){!e||e.destroyed||!e.wrapperEl||m.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",a),!(t||m.detail&&m.detail.bySwiperTouchMove)&&C())}const i=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?T=!0:T&&(_=L,T=!1);const m=e.autoplay.paused?L:$+_-new Date().getTime();e.autoplay.timeLeft=m,o("autoplayTimeLeft",m,m/B),h=requestAnimationFrame(()=>{i()})},p=()=>{let m;return e.virtual&&e.params.virtual.enabled?m=e.slides.find(k=>k.classList.contains("swiper-slide-active")):m=e.slides[e.activeIndex],m?parseInt(m.getAttribute("data-swiper-autoplay"),10):void 0},b=m=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),i();let P=typeof m>"u"?e.params.autoplay.delay:m;B=e.params.autoplay.delay,_=e.params.autoplay.delay;const k=p();!Number.isNaN(k)&&k>0&&typeof m>"u"&&(P=k,B=k,_=k),L=P;const H=e.params.speed,U=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(H,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,H,!0,!0),o("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(H,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,H,!0,!0),o("autoplay")),e.params.cssMode&&($=new Date().getTime(),requestAnimationFrame(()=>{b()})))};return P>0?(clearTimeout(y),y=setTimeout(()=>{U()},P)):requestAnimationFrame(()=>{U()}),P},A=()=>{$=new Date().getTime(),e.autoplay.running=!0,b(),o("autoplayStart")},M=()=>{e.autoplay.running=!1,clearTimeout(y),cancelAnimationFrame(h),o("autoplayStop")},f=(m,P)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(y),m||(d=!0);const k=()=>{o("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",a):C()};if(e.autoplay.paused=!0,P){u&&(L=e.params.autoplay.delay),u=!1,k();return}L=(L||e.params.autoplay.delay)-(new Date().getTime()-$),!(e.isEnd&&L<0&&!e.params.loop)&&(L<0&&(L=0),k())},C=()=>{e.isEnd&&L<0&&!e.params.loop||e.destroyed||!e.autoplay.running||($=new Date().getTime(),d?(d=!1,b(L)):b(),e.autoplay.paused=!1,o("autoplayResume"))},x=()=>{if(e.destroyed||!e.autoplay.running)return;const m=V();m.visibilityState==="hidden"&&(d=!0,f(!0)),m.visibilityState==="visible"&&C()},O=m=>{m.pointerType==="mouse"&&(d=!0,t=!0,!(e.animating||e.autoplay.paused)&&f(!0))},g=m=>{m.pointerType==="mouse"&&(t=!1,e.autoplay.paused&&C())},E=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",O),e.el.addEventListener("pointerleave",g))},S=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",O),e.el.removeEventListener("pointerleave",g))},I=()=>{V().addEventListener("visibilitychange",x)},ae=()=>{V().removeEventListener("visibilitychange",x)};r("init",()=>{e.params.autoplay.enabled&&(E(),I(),A())}),r("destroy",()=>{S(),ae(),e.autoplay.running&&M()}),r("_freeModeStaticRelease",()=>{(n||d)&&C()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?M():f(!0,!0)}),r("beforeTransitionStart",(m,P,k)=>{e.destroyed||!e.autoplay.running||(k||!e.params.autoplay.disableOnInteraction?f(!0,!0):M())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){M();return}D=!0,n=!1,d=!1,s=setTimeout(()=>{d=!0,n=!0,f(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!D)){if(clearTimeout(s),clearTimeout(y),e.params.autoplay.disableOnInteraction){n=!1,D=!1;return}n&&e.params.cssMode&&C(),n=!1,D=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(u=!0)}),Object.assign(e.autoplay,{start:A,stop:M,pause:f,resume:C})}async function ve(){ye(),new oe(".shop-baners__swiper",{modules:[fe,me,ge],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:5e3},loop:!0,slidesPerView:1,spaceBetween:20,centeredSlides:!0,breakpoints:{768:{slidesPerView:"auto",spaceBetween:35},1440:{slidesPerView:"auto",spaceBetween:50}}})}function ye(){const c=document.querySelectorAll(".swiper-slide.swiper-slide-duplicate");window.innerWidth<768&&c.forEach(v=>{v.remove()})}const R=Z(".filter__item"),Q=F(".dropdown__text");async function he(c){if(!R||!Q)return;const e=new URLSearchParams(window.location.search);let v=1,r=e.get("category")||void 0;R.forEach(o=>{const l=o.innerText.trim();console.log(l),!r&&l==="All categories"||l===r?(z(o,"add","filter__item_active"),Q.innerText=l):z(o,"remove","filter__item_active")}),X(c,v,r),Y(v,c),R.forEach(o=>{o.addEventListener("click",async()=>{const l=o.innerText.trim();v=1,l==="All categories"?(e.delete("category"),r=void 0):(e.set("category",l),r=l),e.set("page",v.toString()),window.history.pushState({},"",`?${e.toString()}`),console.log(`Фильтрация: ${r}`);const y=F(c);y&&(y.innerHTML=""),R.forEach(h=>{z(h,"remove","filter__item_active")}),z(o,"add","filter__item_active"),await X(c,v,r),Y(v,c)})})}document.addEventListener("DOMContentLoaded",async()=>{ie(),ve(),pe(),he(".catalog-list__content")});
