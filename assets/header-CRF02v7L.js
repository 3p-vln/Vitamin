import{g as r,c as m}from"./use-call-dom-DDNnwvp7.js";import{f as k}from"./cart-DbbPYPQW.js";import{a as b}from"./use-api-CCINPRot.js";import"./dropdown-7a_ekS_C.js";function $(){const t=document.querySelectorAll(".header__user-name"),e=localStorage.getItem("userInfo");if(t&&e){const n=JSON.parse(e);t.forEach(o=>{const i=o;i.innerText=`${n.first_name} ${n.last_name}`})}}function B(){document.querySelectorAll(".sign-out").forEach(e=>{e.addEventListener("click",()=>{window.location.href="/Vitamin",localStorage.removeItem("userInfo"),b.remove("accessToken",{path:"/"}),b.remove("refreshToken",{path:"/"})})})}function E(){const t=document.getElementById("authPopup"),e=document.querySelector(".header__profile"),n=b.get("accessToken");e&&e.addEventListener("click",()=>{n?window.location.href="/Vitamin/profile.html":t.show()}),window.showPopup=function(){t.show()},t.querySelector(".auth-pop-up__close").addEventListener("click",()=>{t.close()}),t.addEventListener("click",i=>{const s=t.querySelector(".auth-pop-up__container"),c=i.target;c instanceof Node&&!s.contains(c)&&t.close()})}const h=r(".burger__btn"),a=r(".burger__menu.main"),d=r(".header__bag"),_=r(".header__logo"),u=r(".pack-info__bg_hulf-circle"),l=r(".header");function H(){if(!a)return;const t=r(".menu__item_shop",a),e=r(".menu__item_info",a),n=r(".header__profile",a),o=r(".burger__menu.shop"),i=r(".burger__menu.info"),s=r(".burger__menu.profile");L(),h&&t&&o&&e&&i&&n&&s&&(g("burger__btn","main"),g("menu__item_shop","shop"),g("menu__item_info","info"),g("header__profile_adapt","profile"),y("shop__title","shop"),y("info__title","info"),y("profile__title","profile"),I(o,i,s)),$(),k(),B(),E()}function g(t,e){if(t){const n=r(`.${t}`),o=r(`.${e}`);if(n&&o){n.addEventListener("click",()=>{const i=!o.classList.contains(`${e}_active`);if(o.classList.contains("main")){o.classList.toggle(`${e}_active`),n.classList.toggle(`${t}_active`),S(),w(),f(o,i);return}o.classList.add(`${e}_active`),f(o,i)});return}}}function y(t,e){if(t){const n=r(`.${t} .back-btn`),o=r(`.${e}`);if(n&&o){n.addEventListener("click",()=>{const i=!o.classList.contains(`${e}_active`);o.classList.remove(`${e}_active`),f(o,i)});return}}}function S(){if(d&&_&&a){if(a.classList.contains("main_active")){_.style.opacity="0",d.style.display="none",u&&(u.style.display="none");return}u&&(u.style.display="block"),_.style.opacity="1",d.style.display="block"}}function w(){if(!h)return;const t=r("body");if(t&&l){if(h.classList.contains("burger__btn_active")){t.style.overflow="hidden";return}t.style.overflow="auto",l.style.backgroundColor="white"}}function L(){v(),window.addEventListener("scroll",v)}function v(){l&&(window.scrollY>50?(l.style.backgroundColor="white",l.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",l.style.transition="background-color 0.3s ease, box-shadow 0.3s ease"):(l.style.backgroundColor="transparent",l.style.boxShadow="none"))}function f(t,e){function o(s){return s<.5?2*s*s:-1+(4-2*s)*s}function i(s){const p=e?s:1-s;t.style.height=`${p*100}dvh`,t.style.opacity=`${p}`}e&&(t.style.visibility="visible"),x({timing:o,draw:i,duration:300}),e||setTimeout(()=>{t.style.visibility="hidden",t.style.height="0"},300)}function x({timing:t,draw:e,duration:n}){let o=performance.now();requestAnimationFrame(function i(s){let c=(s-o)/n;c>1&&(c=1);let p=t(c);e(p),c<1&&requestAnimationFrame(i)})}function I(t,e,n){window.addEventListener("resize",()=>{if(window.innerWidth>=768){if(h?.classList.remove("burger__btn_active"),!a||!t||!e||!n)return;m(a,"remove","main_active"),a.style.visibility="hidden",a.style.height="0vh",a.style.opacity="0",u&&(u.style.display="block"),d&&_&&(_.style.opacity="1",d.style.display="block"),w(),L(),m(t,"remove","shop_active"),m(e,"remove","info_active"),m(n,"remove","profile_active");const o=t.classList.contains("shop_active");f(t,o);const i=e.classList.contains("info_active");f(e,i);const s=t.classList.contains("profile_active");f(n,s)}})}export{H as default};
