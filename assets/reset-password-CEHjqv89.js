import{g as o,c as t}from"./use-call-dom-CaqOo_cc.js";/* empty css                *//* empty css              */import{c as i,s as c}from"./use-api-Bg0RsZwB.js";import{J as l}from"./just-validate.es-C73wyOde.js";import"./js.cookie-Cz0CWeBA.js";async function d(){const a=new URL(window.location.href),e=o(".recover__message"),s=o(".custom-loader"),r=o("#reset-password-form"),n=a.searchParams.get("reset");n&&e&&s&&r&&("email"in await i(n)?(s.style.display="none",r.style.display="block"):window.location.href="/Vitamin")}async function m(a){const e=o(".recover__message"),s=o(".recover__form_new-password");if(!("errors"in await c(a))){e&&s&&(s.remove(),e.innerHTML='The password was successfully changed  <a class="recover__link-login" href="/Vitamin/login.html"> Back to login</a>',t(e,"remove","recover__message_hidden"),e.style.color="green");return}e&&(e.innerHTML='Oops. Error, the password has not been changed. Try again later.<a class="recover__link-login" href="/Vitamin/login.html"> Back to login</a>',t(e,"remove","recover__message_hidden"),e.style.color="red")}function w(){new l("#reset-password-form").addField("#reset-password",[{rule:"required",errorMessage:"Password required"},{rule:"minLength",value:8,errorMessage:"Password must contain a minimum of 8 characters"},{rule:"maxLength",value:50,errorMessage:"Password must not exceed 50 characters"},{rule:"customRegexp",value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/,errorMessage:"Must contain uppercase ,lowercase letter, and number"}]).onSuccess(async()=>{const s=new URL(window.location.href).searchParams.get("reset"),r=o("#reset-password");r instanceof HTMLInputElement&&s&&await m({resetToken:s,newPassword:r.value})})}document.addEventListener("DOMContentLoaded",async()=>{await d(),w()});
