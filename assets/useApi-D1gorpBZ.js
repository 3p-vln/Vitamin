import{g as o}from"./useCallDom-DDNnwvp7.js";import{a as w,A as L}from"./index-BBT-V0FT.js";function $(){const n=document.querySelectorAll(".header__user-name"),e=localStorage.getItem("userInfo");if(n&&e){const s=JSON.parse(e);n.forEach(t=>{const r=t;r.innerText=`${s.first_name} ${s.last_name}`})}}const p=o(".burger__btn"),c=o(".burger__menu.main"),d=o(".header__bag"),g=o(".header__logo"),f=o(".pack-info__bg_hulf-circle"),i=o(".header");function U(){if(!c)return;const n=o(".menu__item_shop",c),e=o(".menu__item_info",c),s=o(".header__profile",c),t=o(".burger__menu.shop"),r=o(".burger__menu.info"),a=o(".burger__menu.profile");x(),p&&n&&t&&e&&r&&s&&a&&(_("burger__btn","main"),_("menu__item_shop","shop"),_("menu__item_info","info"),_("header__profile_adapt","profile"),m("shop__title","shop"),m("info__title","info"),m("profile__title","profile")),$()}function _(n,e){if(n){const s=o(`.${n}`),t=o(`.${e}`);if(s&&t){s.addEventListener("click",()=>{const r=!t.classList.contains(`${e}_active`);if(t.classList.contains("main")){t.classList.toggle(`${e}_active`),s.classList.toggle(`${n}_active`),v(),k(),h(t,r);return}t.classList.add(`${e}_active`),h(t,r)});return}}}function m(n,e){if(n){const s=o(`.${n} .back-btn`),t=o(`.${e}`);if(s&&t){s.addEventListener("click",()=>{const r=!t.classList.contains(`${e}_active`);t.classList.remove(`${e}_active`),h(t,r)});return}}}function v(){if(d&&g&&c){if(c.classList.contains("main_active")){g.style.opacity="0",d.style.display="none",f&&(f.style.display="none");return}f&&(f.style.display="block"),g.style.opacity="1",d.style.display="block"}}function k(){if(!p)return;const n=o("body");if(n&&i){if(p.classList.contains("burger__btn_active")){n.style.overflow="hidden";return}n.style.overflow="auto",i.style.backgroundColor="white"}}function x(){i&&window.addEventListener("scroll",()=>{window.scrollY>50?(i.style.backgroundColor="white",i.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",i.style.transition="background-color 0.3s ease, box-shadow 0.3s ease"):(i.style.backgroundColor="transparent",i.style.boxShadow="none")})}function h(n,e){function t(a){return a<.5?2*a*a:-1+(4-2*a)*a}function r(a){const u=e?a:1-a;n.style.height=`${u*100}vh`,n.style.opacity=`${u}`}e&&(n.style.visibility="visible"),B({timing:t,draw:r,duration:300}),e||setTimeout(()=>{n.style.visibility="hidden",n.style.height="0"},300)}function B({timing:n,draw:e,duration:s}){let t=performance.now();requestAnimationFrame(function r(a){let l=(a-t)/s;l>1&&(l=1);let u=n(l);e(u),l<1&&requestAnimationFrame(r)})}const E="https://www.mku-journal.online",b=w.create({baseURL:E,headers:{"Content-Type":"application/json"}}),y=async n=>{try{return(await n).data}catch(e){return e instanceof L?(console.error("API error:",e.response?.data||e.message),{errors:[{message:e.response?.data?.message||e.message}]}):e instanceof Error?(console.error("General error:",e.message),{errors:[{message:e.message}]}):(console.error("Unknown error:",e),{errors:[{message:"An unexpected error occurred."}]})}},C=(n,e,s)=>y(b.get("/catalog/all-list",{params:{type:s,page:n,limit:e}})),M=n=>y(b.get(`${n?"/catalog/recommendations?is_main=true":"/catalog/recommendations"}`));export{C as a,M as g,U as i};
