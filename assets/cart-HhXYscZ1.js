import{g as p,a as X,c as b,r as S}from"./use-call-dom-DDNnwvp7.js";import{i as tt}from"./dropdown-C_o1Z155.js";import{k as se}from"./use-api-CdSl8Y54.js";async function rt(t){let r=null;if(typeof t=="string"?r=p(t):r=t,!r)return;const c=p(".counter__plus",r),n=p(".counter__minus",r),l=p(".counter__items",r);let o=Number(l?.innerText);!l||!c||!n||(ae(c,n,o),n.addEventListener("click",()=>{ot(l,o),o=Number(l?.innerText),ae(c,n,o)}),c.addEventListener("click",()=>{nt(l,o),o=Number(l?.innerText),ae(c,n,o)}),ue(l,o))}function ue(t,r){t.textContent=r.toString()}function ot(t,r){r>1&&(r--,ue(t,r))}function nt(t,r){r<999&&(r++,ue(t,r))}function ae(t,r,c){c!==999&&c!==1&&(t.style.opacity="1",r.style.opacity="1"),c===999&&(t.style.opacity="0.3"),c===1&&(r.style.opacity="0.3")}var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fe={exports:{}};(function(t,r){(function(n,l){t.exports=l()})(lt,function(){return function(c){var n={};function l(o){if(n[o])return n[o].exports;var u=n[o]={i:o,l:!1,exports:{}};return c[o].call(u.exports,u,u.exports,l),u.l=!0,u.exports}return l.m=c,l.c=n,l.d=function(o,u,g){l.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:g})},l.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},l.t=function(o,u){if(u&1&&(o=l(o)),u&8||u&4&&typeof o=="object"&&o&&o.__esModule)return o;var g=Object.create(null);if(l.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:o}),u&2&&typeof o!="string")for(var v in o)l.d(g,v,function(m){return o[m]}.bind(null,v));return g},l.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(u,"a",u),u},l.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},l.p="",l(l.s=0)}([function(c,n,l){l.r(n);var o=function(e){return Array.isArray(e)?e:[e]},u=function(e){return e instanceof Node},g=function(e){return e instanceof NodeList},v=function(e,i){if(e&&i){e=g(e)?e:[e];for(var s=0;s<e.length&&i(e[s],s,e.length)!==!0;s++);}},m=function(e){return console.error("[scroll-lock] ".concat(e))},E=function(e){if(Array.isArray(e)){var i=e.join(", ");return i}},w=function(e){var i=[];return v(e,function(s){return i.push(s)}),i},I=function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:document;if(s&&w(d.querySelectorAll(i)).indexOf(e)!==-1)return e;for(;(e=e.parentElement)&&w(d.querySelectorAll(i)).indexOf(e)===-1;);return e},D=function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,d=w(s.querySelectorAll(i)).indexOf(e)!==-1;return d},A=function(e){if(e){var i=getComputedStyle(e),s=i.overflow==="hidden";return s}},P=function(e){if(e){if(A(e))return!0;var i=e.scrollTop;return i<=0}},W=function(e){if(e){if(A(e))return!0;var i=e.scrollTop,s=e.scrollHeight,d=i+e.offsetHeight;return d>=s}},B=function(e){if(e){if(A(e))return!0;var i=e.scrollLeft;return i<=0}},q=function(e){if(e){if(A(e))return!0;var i=e.scrollLeft,s=e.scrollWidth,d=i+e.offsetWidth;return d>=s}},We=function(e){var i='textarea, [contenteditable="true"]';return D(e,i)},Be=function(e){var i='input[type="range"]';return D(e,i)};l.d(n,"disablePageScroll",function(){return Y}),l.d(n,"enablePageScroll",function(){return j}),l.d(n,"getScrollState",function(){return O}),l.d(n,"clearQueueScrollLocks",function(){return ee}),l.d(n,"getTargetScrollBarWidth",function(){return M}),l.d(n,"getCurrentTargetScrollBarWidth",function(){return J}),l.d(n,"getPageScrollBarWidth",function(){return te}),l.d(n,"getCurrentPageScrollBarWidth",function(){return re}),l.d(n,"addScrollableTarget",function(){return R}),l.d(n,"removeScrollableTarget",function(){return oe}),l.d(n,"addScrollableSelector",function(){return me}),l.d(n,"removeScrollableSelector",function(){return ge}),l.d(n,"addLockableTarget",function(){return ve}),l.d(n,"addLockableSelector",function(){return he}),l.d(n,"setFillGapMethod",function(){return Se}),l.d(n,"addFillGapTarget",function(){return ne}),l.d(n,"removeFillGapTarget",function(){return be}),l.d(n,"addFillGapSelector",function(){return U}),l.d(n,"removeFillGapSelector",function(){return ye}),l.d(n,"refillGaps",function(){return Q});function Me(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{},s=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable}))),s.forEach(function(d){He(a,d,i[d])})}return a}function He(a,e,i){return e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}var $=["padding","margin","width","max-width","none"],H=3,f={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:$[0],startTouchY:0,startTouchX:0},Y=function(e){f.queue<=0&&(f.scroll=!1,le(),ke()),R(e),f.queue++},j=function(e){f.queue>0&&f.queue--,f.queue<=0&&(f.scroll=!0,Ye(),Qe()),oe(e)},O=function(){return f.scroll},ee=function(){f.queue=0},M=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u(e)){var s=e.style.overflowY;i?O()||(e.style.overflowY=e.getAttribute("data-scroll-lock-saved-overflow-y-property")):e.style.overflowY="scroll";var d=J(e);return e.style.overflowY=s,d}else return 0},J=function(e){if(u(e))if(e===document.body){var i=document.documentElement.clientWidth,s=window.innerWidth,d=s-i;return d}else{var T=e.style.borderLeftWidth,G=e.style.borderRightWidth;e.style.borderLeftWidth="0px",e.style.borderRightWidth="0px";var C=e.offsetWidth-e.clientWidth;return e.style.borderLeftWidth=T,e.style.borderRightWidth=G,C}else return 0},te=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M(document.body,e)},re=function(){return J(document.body)},R=function(e){if(e){var i=o(e);i.map(function(s){v(s,function(d){u(d)?d.setAttribute("data-scroll-lock-scrollable",""):m('"'.concat(d,'" is not a Element.'))})})}},oe=function(e){if(e){var i=o(e);i.map(function(s){v(s,function(d){u(d)?d.removeAttribute("data-scroll-lock-scrollable"):m('"'.concat(d,'" is not a Element.'))})})}},me=function(e){if(e){var i=o(e);i.map(function(s){f.scrollableSelectors.push(s)})}},ge=function(e){if(e){var i=o(e);i.map(function(s){f.scrollableSelectors=f.scrollableSelectors.filter(function(d){return d!==s})})}},ve=function(e){if(e){var i=o(e);i.map(function(s){v(s,function(d){u(d)?d.setAttribute("data-scroll-lock-lockable",""):m('"'.concat(d,'" is not a Element.'))})}),O()||le()}},he=function(e){if(e){var i=o(e);i.map(function(s){f.lockableSelectors.push(s)}),O()||le(),U(e)}},Se=function(e){if(e)if($.indexOf(e)!==-1)f.fillGapMethod=e,Q();else{var i=$.join(", ");m('"'.concat(e,`" method is not available!
Available fill gap methods: `).concat(i,"."))}},ne=function(e){if(e){var i=o(e);i.map(function(s){v(s,function(d){u(d)?(d.setAttribute("data-scroll-lock-fill-gap",""),f.scroll||xe(d)):m('"'.concat(d,'" is not a Element.'))})})}},be=function(e){if(e){var i=o(e);i.map(function(s){v(s,function(d){u(d)?(d.removeAttribute("data-scroll-lock-fill-gap"),f.scroll||ie(d)):m('"'.concat(d,'" is not a Element.'))})})}},U=function(e){if(e){var i=o(e);i.map(function(s){f.fillGapSelectors.indexOf(s)===-1&&(f.fillGapSelectors.push(s),f.scroll||Te(s))})}},ye=function(e){if(e){var i=o(e);i.map(function(s){f.fillGapSelectors=f.fillGapSelectors.filter(function(d){return d!==s}),f.scroll||Le(s)})}},Q=function(){f.scroll||ke()},le=function(){var e=E(f.lockableSelectors);je(e)},Ye=function(){var e=E(f.lockableSelectors);Je(e)},je=function(e){var i=document.querySelectorAll(e);v(i,function(s){Re(s)})},Je=function(e){var i=document.querySelectorAll(e);v(i,function(s){Ue(s)})},Re=function(e){if(u(e)&&e.getAttribute("data-scroll-lock-locked")!=="true"){var i=window.getComputedStyle(e);e.setAttribute("data-scroll-lock-saved-overflow-y-property",i.overflowY),e.setAttribute("data-scroll-lock-saved-inline-overflow-property",e.style.overflow),e.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",e.style.overflowY),e.style.overflow="hidden",e.setAttribute("data-scroll-lock-locked","true")}},Ue=function(e){u(e)&&e.getAttribute("data-scroll-lock-locked")==="true"&&(e.style.overflow=e.getAttribute("data-scroll-lock-saved-inline-overflow-property"),e.style.overflowY=e.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),e.removeAttribute("data-scroll-lock-saved-overflow-property"),e.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),e.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),e.removeAttribute("data-scroll-lock-locked"))},ke=function(){f.fillGapSelectors.map(function(e){Te(e)})},Qe=function(){f.fillGapSelectors.map(function(e){Le(e)})},Te=function(e){var i=document.querySelectorAll(e),s=f.lockableSelectors.indexOf(e)!==-1;v(i,function(d){xe(d,s)})},xe=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u(e)){var s;if(e.getAttribute("data-scroll-lock-lockable")===""||i)s=M(e,!0);else{var d=I(e,E(f.lockableSelectors));s=M(d,!0)}e.getAttribute("data-scroll-lock-filled-gap")==="true"&&ie(e);var T=window.getComputedStyle(e);if(e.setAttribute("data-scroll-lock-filled-gap","true"),e.setAttribute("data-scroll-lock-current-fill-gap-method",f.fillGapMethod),f.fillGapMethod==="margin"){var G=parseFloat(T.marginRight);e.style.marginRight="".concat(G+s,"px")}else if(f.fillGapMethod==="width")e.style.width="calc(100% - ".concat(s,"px)");else if(f.fillGapMethod==="max-width")e.style.maxWidth="calc(100% - ".concat(s,"px)");else if(f.fillGapMethod==="padding"){var C=parseFloat(T.paddingRight);e.style.paddingRight="".concat(C+s,"px")}}},Le=function(e){var i=document.querySelectorAll(e);v(i,function(s){ie(s)})},ie=function(e){if(u(e)&&e.getAttribute("data-scroll-lock-filled-gap")==="true"){var i=e.getAttribute("data-scroll-lock-current-fill-gap-method");e.removeAttribute("data-scroll-lock-filled-gap"),e.removeAttribute("data-scroll-lock-current-fill-gap-method"),i==="margin"?e.style.marginRight="":i==="width"?e.style.width="":i==="max-width"?e.style.maxWidth="":i==="padding"&&(e.style.paddingRight="")}},Ke=function(e){Q()},ze=function(e){f.scroll||(f.startTouchY=e.touches[0].clientY,f.startTouchX=e.touches[0].clientX)},Ve=function(e){if(!f.scroll){var i=f.startTouchY,s=f.startTouchX,d=e.touches[0].clientY,T=e.touches[0].clientX;if(e.touches.length<2){var G=E(f.scrollableSelectors),C={up:i<d,down:i>d,left:s<T,right:s>T},K={up:i+H<d,down:i-H>d,left:s+H<T,right:s-H>T},$e=function Ee(h){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(h){var ce=I(h,G,!1);if(Be(h))return!1;if(et||We(h)&&I(h,G)||D(h,G)){var z=!1;B(h)&&q(h)?(C.up&&P(h)||C.down&&W(h))&&(z=!0):P(h)&&W(h)?(C.left&&B(h)||C.right&&q(h))&&(z=!0):(K.up&&P(h)||K.down&&W(h)||K.left&&B(h)||K.right&&q(h))&&(z=!0),z&&(ce?Ee(ce,!0):e.cancelable&&e.preventDefault())}else Ee(ce)}else e.cancelable&&e.preventDefault()};$e(e.target)}}},Xe=function(e){f.scroll||(f.startTouchY=0,f.startTouchX=0)};typeof window<"u"&&window.addEventListener("resize",Ke),typeof document<"u"&&(document.addEventListener("touchstart",ze),document.addEventListener("touchmove",Ve,{passive:!1}),document.addEventListener("touchend",Xe));var Ze={hide:function(e){m(`"hide" is deprecated! Use "disablePageScroll" instead. 
 https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget`),Y(e)},show:function(e){m(`"show" is deprecated! Use "enablePageScroll" instead. 
 https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget`),j(e)},toggle:function(e){m('"toggle" is deprecated! Do not use it.'),O()?Y():j(e)},getState:function(){return m(`"getState" is deprecated! Use "getScrollState" instead. 
 https://github.com/FL3NKEY/scroll-lock#getscrollstate`),O()},getWidth:function(){return m(`"getWidth" is deprecated! Use "getPageScrollBarWidth" instead. 
 https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth`),te()},getCurrentWidth:function(){return m(`"getCurrentWidth" is deprecated! Use "getCurrentPageScrollBarWidth" instead. 
 https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth`),re()},setScrollableTargets:function(e){m(`"setScrollableTargets" is deprecated! Use "addScrollableTarget" instead. 
 https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget`),R(e)},setFillGapSelectors:function(e){m(`"setFillGapSelectors" is deprecated! Use "addFillGapSelector" instead. 
 https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector`),U(e)},setFillGapTargets:function(e){m(`"setFillGapTargets" is deprecated! Use "addFillGapTarget" instead. 
 https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget`),ne(e)},clearQueue:function(){m(`"clearQueue" is deprecated! Use "clearQueueScrollLocks" instead. 
 https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks`),ee()}},qe=Me({disablePageScroll:Y,enablePageScroll:j,getScrollState:O,clearQueueScrollLocks:ee,getTargetScrollBarWidth:M,getCurrentTargetScrollBarWidth:J,getPageScrollBarWidth:te,getCurrentPageScrollBarWidth:re,addScrollableSelector:me,removeScrollableSelector:ge,addScrollableTarget:R,removeScrollableTarget:oe,addLockableSelector:he,addLockableTarget:ve,addFillGapSelector:U,removeFillGapSelector:ye,addFillGapTarget:ne,removeFillGapTarget:be,setFillGapMethod:Se,refillGaps:Q,_state:f},Ze);n.default=qe}]).default})})(Fe);var Ie=Fe.exports;const Ce=p(".header__bag"),F=p(".cart"),we=p(".cart__close"),Ae=p(".cart__bg"),x=p(".cart__items"),Pe=JSON.parse(localStorage.getItem("userInfo")||"[]");let Ne=X(".prod"),y;const V=p(".info__backbtn");async function ht(){!Ce||!we||!Ae||!x||(Ce.addEventListener("click",t=>it(t)),we.addEventListener("click",()=>Oe()),Ae.addEventListener("click",()=>Oe()),pe(),k(),Ne.forEach(t=>{const r=p(".prod__autoship-text",t);r&&st(r)}))}function it(t){t.stopPropagation(),F&&(b(F,"add","cart_active"),V&&(V.style.zIndex="1"),_e())}function Oe(){F&&(b(F,"remove","cart_active"),V&&(V.style.zIndex="25"),_e())}function _e(){if(!F)return;const t=p("body"),r=p("header");if(!(!t||!r)){if(F.classList.contains("cart_active")){Ie.disablePageScroll();return}Ie.enablePageScroll()}}function ct(t){let r=JSON.parse(localStorage.getItem("cartItems")||"[]");r.some(n=>n.id===t)&&r.forEach(async n=>{const l=p(`.prod_${n.id}`);if(!l)return;const o=p(".prod__close",l);o&&o.addEventListener("click",()=>{l.remove(),at(t)})})}function at(t){let r=JSON.parse(localStorage.getItem("cartItems")||"[]");if(r=r.filter(c=>c.id!==t),localStorage.setItem("cartItems",JSON.stringify(r)),k(),_(),r.length===0){if(p(".cart__empty"))return;y=!0,N(y),k();return}}function st(t){window.innerWidth<768&&(t.innerText="Deliver every")}function Z(t,r=!1,c="30",n=1){if(!x)return;const l=S("div",["cart__item","prod",`prod_${t.id}`]),o=S("a","prod__img");o.href=`/Vitamin/one-product.html?id=${t.id}`,t.type==="Vitamins & Dietary Supplements"&&b(o,"add","prod__img_purple"),t.type==="Minerals"&&b(o,"add","prod__img_green-mint"),t.type==="Prenatal Vitamins"&&b(o,"add","prod__img_pink"),t.type==="Pain Relief"&&b(o,"add","prod__img_blue"),t.type==="Antioxidants"&&b(o,"add","prod__img_orange"),t.type==="Weight Loss"&&b(o,"add","prod__img_dark-blue"),(t.type==="Probiotics"||t.type==="Sale%")&&b(o,"add","prod__img_red"),o.innerHTML=`
    <img src="${t.img}" alt="prod" />
  `;const u=S("div","prod__info"),g=S("div","prod__title-and-close"),v=S("a","prod__title");v.href=`/Vitamin/one-product.html?id=${t.id}`,v.innerText=t.name;const m=S("div","prod__close");m.innerHTML=`
    <span></span>
    <span></span>
  `;const E=S("div","prod__counter-and-price"),w=S("div","prod__counter");w.innerHTML=`
    <button class="counter__minus">
      <svg>
        <use href="#minus"></use>
      </svg>
    </button>
    <p class="counter__items">${n}</p>
    <button class="counter__plus">
      <svg>
        <use href="#plus"></use>
      </svg>
    </button>
  `,rt(w);const I=S("p","prod__price"),D=de(t.price,t.discount,n),A=fe(t.price,n);t.type==="Sale%"?(b(I,"add","prod__price_sale"),I.innerHTML=`<span>$${A}</span> $${D}`):I.innerText=`$${A}`;const P=S("div","prod__autoship");P.innerHTML=`
    <div class="prod__checkbox">
      <input type="checkbox" name="autoship" ${r?"checked":""}/>
      <span></span>
    </div>
    <p class="prod__autoship-text">Autoship every</p>
    <div class="dropdown">
      <div class="dropdown__box">
        <p class="dropdown__text">${c}</p>
        <div class="dropdown__arrow">
          <svg>
            <use href="#back-arrow"></use>
          </svg>
        </div>
      </div>
      <div class="dropdown__list">
        <button class="dropdown__item">10</button>
        <button class="dropdown__item">20</button>
        <button class="dropdown__item">30</button>
        <button class="dropdown__item">40</button>
        <button class="dropdown__item">50</button>
        <button class="dropdown__item">60</button>
      </div>
    </div>
    days
  `,tt(P),g.appendChild(v),g.appendChild(m),E.appendChild(w),E.appendChild(I),u.appendChild(g),u.appendChild(E),u.appendChild(P),l.appendChild(o),l.appendChild(u),x.appendChild(l),y=!1,N(y);const W=p(".autoship__on-off"),B=p(".count__items");!W||!B?dt(t):ut(t),ct(t.id),De(t)}function de(t,r,c){const n=parseFloat(t);if(isNaN(n))throw new Error("Invalid price format");return(n*(1-r/100)*c).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function fe(t,r){const c=parseFloat(t);if(isNaN(c))throw new Error("Invalid price format");return(c*r).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function ut(t){let r=JSON.parse(localStorage.getItem("cartItems")||"[]");const c=r.some(g=>g.id===t.id),n=p(".autoship__on-off"),l=p(".count__items");if(!n||!l)return;const o=n.classList.contains("autoship__on-off_active")||!1,u=Number(l.innerText);c||r.push({id:t.id,autoshipChecked:o,autoshipDays:"30",counts:u}),localStorage.setItem("cartItems",JSON.stringify(r))}function dt(t){let r=JSON.parse(localStorage.getItem("cartItems")||"[]");r.some(n=>n.id===t.id)||r.push({id:t.id,autoshipChecked:!0,autoshipDays:"30",counts:1}),localStorage.setItem("cartItems",JSON.stringify(r))}function De(t){const r=p(`.prod_${t.id} .prod__checkbox input`),c=p(`.prod_${t.id} .dropdown__text`),n=X(`.prod_${t.id} .dropdown__item`),l=p(`.prod_${t.id} .counter__minus`),o=p(`.prod_${t.id} .counter__plus`),u=p(`.prod_${t.id} .counter__items`);!r||!c||!n||!l||!o||!u||(r&&r.addEventListener("change",()=>{L(`${t.id}`,r.checked,c.textContent||"30",Number(u.textContent))}),c&&n.forEach(g=>{g.addEventListener("click",v=>{const m=v.target.textContent||"30";L(`${t.id}`,r.checked,m,Number(u.textContent))})}),l.addEventListener("click",()=>{Ge(t,Number(u.textContent)),L(`${t.id}`,r.checked,c.textContent||"30",Number(u.textContent)),k()}),o.addEventListener("click",()=>{Ge(t,Number(u.textContent)),L(`${t.id}`,r.checked,c.textContent||"30",Number(u.textContent)),k()}))}function Ge(t,r){const c=de(t.price,t.discount,r),n=fe(t.price,r),l=p(`.prod_${t.id} .prod__price`);l&&(t.type==="Sale%"?l.innerHTML=`<span>$${n}</span> $${c}`:l.innerText=`$${n}`)}function L(t,r,c,n){let l=JSON.parse(localStorage.getItem("cartItems")||"[]");const o=l.findIndex(u=>u.id===Number(t));o!==-1&&(l[o].autoshipChecked=r,l[o].autoshipDays=c,l[o].counts=n),localStorage.setItem("cartItems",JSON.stringify(l))}function pe(){const t=JSON.parse(localStorage.getItem("cartItems")||"[]");if(t.length===0){y=!0,N(y),_();return}y=!1,N(y),_(),x&&(x.innerHTML="",t.forEach(async r=>{try{const c=await se(`${r.id}`);if("errors"in c){console.error(c.errors);return}Z(c,r.autoshipChecked,r.autoshipDays,r.counts),De(c),Ne=X(".prod")}catch(c){console.error(c)}}))}function St(t){let r=JSON.parse(localStorage.getItem("cartItems")||"[]");r.length===0&&(y=!0,N(y)),r.some(n=>n.id===t.id)||Z(t),k(),_()}function bt(t){if(!t.disabled_subscribe)return;const r=p(`.prod_${t.id} .prod__checkbox input`),c=p(`.prod_${t.id} .dropdown__text`),n=p(".autoship__dropdown .dropdown__text");if(!n)return;const l=n.textContent,o=p(`.prod_${t.id} .counter__items`);!r||!c||!l||!o||(r.checked=!0,c.innerText=l,L(`${t.id}`,r.checked,c.textContent||"30",Number(o.textContent)))}function yt(t){if(!t.disabled_subscribe)return;const r=p(`.prod_${t.id} .prod__checkbox input`),c=p(`.prod_${t.id} .dropdown__text`),n=p(`.prod_${t.id} .counter__items`);!r||!c||!n||(r.checked=!1,L(`${t.id}`,r.checked,c.textContent||"30",Number(n.textContent)))}function kt(t){const r=p(`.prod_${t.id} .prod__checkbox input`),c=p(`.prod_${t.id} .dropdown__text`),n=p(`.prod_${t.id} .counter__items`),l=p(".count__counter .counter__items");let o=JSON.parse(localStorage.getItem("cartItems")||"[]");o.length===0&&(y=!0,N(y));const u=o.some(v=>v.id===t.id);if(!l)return;if(!u){Z(t,!1,"30",Number(l.innerText)),k(),_();return}if(!r||!c||!n)return;const g=Number(n.textContent)+Number(l.innerText);g>999||g==999?L(`${t.id}`,r.checked,c.textContent||"30",999):L(`${t.id}`,r.checked,c.textContent||"30",g),pe(),k()}function N(t){if(x&&(t||(b(x,"remove","empty"),X(".cart__empty").forEach(c=>c.remove())),t)){const r=S("p","cart__empty");r.innerText="Your cart is empty",b(x,"add","empty"),x.appendChild(r)}}function k(){let t=JSON.parse(localStorage.getItem("cartItems")||"[]"),r=0,c;const n=p("#total-cart-price");n&&(t?.length===0&&(n.innerText="$0"),t.forEach(async l=>{try{const o=await se(`${l.id}`);if("errors"in o){console.error(o.errors);return}o.type==="Sale%"?c=de(o.price,o.discount,l.counts):c=fe(o.price,l.counts),r+=parseFloat(c.replace(/,/g,"").replace(/\s/g,"")),n.innerText=`$${r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ft(r)}catch(o){console.error(o)}}))}function ft(t){const r=p(".cart__btn");if(!r)return;const c=p(".btn",r);if(!(!Pe||!c)&&Pe.role_type==="whosale"){c.style.backgroundColor="#C3BDB6",c.style.pointerEvents="none";const n=S("p","cart__limit");n.style.marginTop="15px",n.style.textAlign="center",n.style.opacity="0.5",n.style.fontSize="14px",n.style.fontWeight="400",n.innerText="Minimum order amount is $700",p(".cart__limit")||r.appendChild(n),t>=700&&(c.style.backgroundColor="",c.style.pointerEvents="")}}function _(){const t=p(".cart__btn");if(!t)return;const r=p(".btn",t);if(!r)return;if(JSON.parse(localStorage.getItem("cartItems")||"[]").length===0){r.style.backgroundColor="#C3BDB6",r.style.pointerEvents="none";return}r.style.backgroundColor="",r.style.pointerEvents=""}async function Tt(t){for(const r of t)try{let c=JSON.parse(localStorage.getItem("cartItems")||"[]");const n=await se(r);if("errors"in n){console.error(n);return}if(!c.some(u=>u.id===n.id)){Z(n,!1,"30",1),k(),_();continue}const o=p(`.prod_${n.id} .counter__items`);if(!o)return;L(`${n.id}`,!1,"30",Number(o.textContent)+1),pe(),k()}catch(c){console.error(c)}}export{Tt as a,St as b,it as c,bt as d,rt as e,kt as f,vt as g,de as h,ht as i,fe as j,yt as r,Ie as s};
