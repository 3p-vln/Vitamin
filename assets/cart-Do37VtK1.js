import{g as o,a as v,c as m,r as x}from"./use-call-dom-CaqOo_cc.js";import{l as w,t as C}from"./render-cart-D4kgbyJx.js";const u=o(".header__bag"),n=o(".cart"),p=o(".cart__close"),h=o(".cart__bg"),b=o(".cart__items"),e=o(".header"),L=o("html");let k=v(".prod"),l=0,y=!1;const r=o(".info__backbtn");function A(){!u||!p||!h||!b||(u.addEventListener("click",t=>E(t)),p.addEventListener("click",()=>f()),h.addEventListener("click",()=>f()),B())}function E(t){t.stopPropagation(),n&&(m(n,"add","cart_active"),y||(y=!0,w(),C(),k.forEach(i=>{const s=o(".prod__autoship-text",i);s&&P(s)})),r&&(r.style.zIndex="1"),g())}function f(){n&&(m(n,"remove","cart_active"),r&&(r.style.zIndex="25"),g())}function g(){if(!(!e||!L||!n||!b)){if(n.classList.contains("cart_active")){l=window.scrollY,document.body.style.position="fixed",document.body.style.top=`-${l}px`,document.body.style.left="0",document.body.style.width="100%",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.backgroundColor="white";const t=I();document.body.style.paddingRight=`${t}px`,e.style.paddingRight=`${t}px`;return}document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.width="",document.body.style.paddingRight="",document.documentElement.style.scrollBehavior="auto",window.scrollTo({top:l,behavior:"instant"}),document.documentElement.style.scrollBehavior="",e.style.top="",e.style.left="",e.style.position="",e.style.backgroundColor="",e.style.paddingRight="0"}}function I(){const t=x("div","");t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const i=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),i}function P(t){window.innerWidth<768&&(t.innerText="Deliver every")}function B(){const i=new URLSearchParams(window.location.search).get("id"),s=o(".autoship__on-off"),d=o(".autoship__circle");let c=JSON.parse(localStorage.getItem("cartItems")||"[]");if(!i)return;const a=c.findIndex(_=>_.id===Number(i));!d||!s||!a||!c[a]||c[a].autoshipChecked&&(s.classList.add("autoship__on-off_active"),d.classList.add("autoship__circle_active"))}export{E as c,A as i};
