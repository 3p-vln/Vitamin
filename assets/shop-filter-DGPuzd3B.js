import{a as l,s as f,h as g}from"./render-card-CoQjtDmK.js";import{c as r,g as m,a as w}from"./use-call-dom-DDNnwvp7.js";import{s as p}from"./lazy-load-CcXlw6so.js";import"./use-api-DWog3y8P.js";import"./js.cookie-Cz0CWeBA.js";const n=w(".filter__item"),d=m(".catalog__content .dropdown__text");async function L(){const a=".catalog-list__content";if(!n||!d||!a)return;const o=new URLSearchParams(window.location.search);let s=1,t=o.get("category")||void 0;n.forEach(e=>{const i=e.innerText.trim();!t&&i==="All categories"||i===t?(r(e,"add","filter__item_active"),d.innerText=i):r(e,"remove","filter__item_active")}),await l(a,s,t),window.innerWidth>=768&&f(a,t),window.innerWidth<768&&await g(a,t),p(),n.forEach(e=>{e.addEventListener("click",async()=>{const i=e.innerText.trim();s=1,i==="All categories"?(o.delete("category"),t=void 0):(o.set("category",i),t=i),window.history.pushState({},"",`?${o.toString()}`);const c=m(a);c&&(c.innerHTML=""),n.forEach(_=>{r(_,"remove","filter__item_active")}),r(e,"add","filter__item_active"),await l(a,s,t)})})}export{L as default};
