import{g as t}from"./use-call-dom-CaqOo_cc.js";/* empty css                *//* empty css              */import{J as a}from"./just-validate.es-C73wyOde.js";import{b as n}from"./use-api-DMCIcZDv.js";import"./js.cookie-Cz0CWeBA.js";async function i(o){const s=document.querySelector(".recover__container"),e=document.querySelector(".recover__error-message"),r=await n(o);if(r.message==="Посилання для відновлення пароля надіслано на пошту")s&&(s.innerHTML='<div class="recover__successes-massage">You have been sent an e-mail</div>');else if(r.errors[0].message&&e)switch(r.errors[0].message){case"Користувач не знайдений":e.innerText="User not found";break;default:e.innerText="Something went wrong... Try again later."}}function c(){new a("#recover-form").addField("#recover-email",[{rule:"required",errorMessage:"Email is required"},{rule:"customRegexp",value:/^[a-zA-Z0-9а-яА-Я."_%+-]+@[a-zA-Zа-яА-Я0-9-.]+\.[a-zA-Zа-яА-Я]{2,}$/u,errorMessage:"Enter a valid email address!"}]).onSuccess(async()=>{const s=document.getElementById("recover-email");if(s){const e=s.value;e&&await i({email:e})}})}function d(){const o=t(".field__password-icon"),s=t(".field__password-icon-open"),e=t(".field__password-icon-close"),r=t(".field__input_password");o&&e&&s&&r&&o.addEventListener("click",()=>{if(o.classList.contains("show")){s.style.opacity="1",e.style.opacity="0",o.classList.remove("show"),r.type="email";return}s.style.opacity="0",e.style.opacity="1",o.classList.add("show"),r.type="password"})}document.addEventListener("DOMContentLoaded",()=>{c(),d()});
