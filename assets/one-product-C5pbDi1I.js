import"./style-dFOJvk-V.js";import{b as w,c as S,d as k,a as v,i as P,e as L}from"./useApi-BuImhoPt.js";import{g as A,r as C}from"./render-card-D2tGzUh0.js";import{g as e,c as n}from"./useCallDom-DDNnwvp7.js";import"./index-wYSWI2m-.js";const D=new URLSearchParams(window.location.search),u=D.get("id")||void 0,$=localStorage.getItem("userInfo"),o=e(".add-to-cart__btn");async function E(){if(o&&(console.log(u,o),$&&u)){const t=await w(u);B(t)}}function B(t){o&&o.addEventListener("click",()=>{if(!JSON.parse(localStorage.getItem("cartItems")||"[]").some(a=>a.id===t.id)){S(t);return}k(t)})}const M=new URLSearchParams(window.location.search),x=M.get("id")||void 0;async function R(){const t=e(".autoship__dropdown");if(!x||!t)return;const i=await w(x);V(i),W(),H(i),v(t)}function V(t){if(!t)return;const i=e(".ilustrate");if(!i)return;t.type==="Vitamins & Dietary Supplements"&&n(i,"add","ilustrate_purple"),t.type==="Minerals"&&n(i,"add","ilustrate_green-mint"),t.type==="Prenatal Vitamins"&&n(i,"add","ilustrate_pink"),t.type==="Pain Relief"&&n(i,"add","ilustrate_blue"),t.type==="Antioxidants"&&n(i,"add","ilustrate_orange"),t.type==="Weight Loss"&&n(i,"add","ilustrate_dark-blue"),(t.type==="Probiotics"||t.type==="Sale%")&&n(i,"add","ilustrate_red");const s=e(".ilustrate__content img");s.src=t.img;const a=e(".info__category"),r=e(".count__svg svg use");if(!a||!r)return;t.type==="Vitamins & Dietary Supplements"&&(n(a,"add","info__category_purple"),r.setAttribute("href","#can")),t.type==="Minerals"&&(n(a,"add","info__category_green-mint"),r.setAttribute("href","#bottle")),t.type==="Prenatal Vitamins"&&(n(a,"add","info__category_pink"),r.setAttribute("href","#kit")),t.type==="Pain Relief"&&(n(a,"add","info__category_blue"),r.setAttribute("href","#box")),t.type==="Antioxidants"&&(n(a,"add","info__category_orange"),r.setAttribute("href","#can")),t.type==="Weight Loss"&&(n(a,"add","info__category_dark-blue"),r.setAttribute("href","#bottle")),(t.type==="Probiotics"||t.type==="Sale%")&&(n(a,"add","info__category_red"),r.setAttribute("href","#kit")),a.innerText=t.type;const d=e(".info__name");if(!d)return;d.innerText=t.name;const l=e(".count__capsules span");if(!l)return;l.innerText=t.capsules.toString();const _=e(".count__mg span");if(!_)return;_.innerText=t.weight_mg.toString();const f=e(".autoship__text");if(!f)return;window.innerWidth<768&&(f.innerText="Deliver every");const T=A(t.price,t.discount),c=e(".add-to-cart__price");if(!c)return;t.type==="Sale%"?(n(c,"add","add-to-cart__price_sale"),c.innerHTML=`<span>$${t.price}</span> $${T}`):c.innerText=`$${t.price}`;const g=e(".descripton__info");if(!g)return;g.innerText=t.description;const m=e(".safety .inf");if(!m)return;m.innerText=t.satefy_information;const p=e(".indications .inf");if(!p)return;p.innerText=t.indications;const y=e(".ingredients .inf");if(!y)return;y.innerText=t.ingradients;const h=e(".directions .inf");if(!h)return;h.innerText=t.directions;const b=e(".legal .inf");b&&(b.innerText=t.legal_disclaimer)}function W(){const t=e(".info__backbtn");t&&t.addEventListener("click",()=>{window.location.href="shop.html"})}function H(t){const i=e(".autoship__on-off");if(!i)return;const s=e(".autoship__circle",i);if(!s)return;const a=localStorage.getItem("userInfo");console.log(i),t.disabled_subscribe===!0&&a&&i.addEventListener("click",async()=>{i.classList.toggle("autoship__on-off_active"),s.classList.toggle("autoship__circle_active")})}document.addEventListener("DOMContentLoaded",async()=>{P(),await R(),L(".count__counter"),E(),C(".you-like__cards","gray")});
