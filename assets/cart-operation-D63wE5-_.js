import{i as f}from"./use-api-Bg0RsZwB.js";import{g as s}from"./use-call-dom-CaqOo_cc.js";import{r as _,t as u,b as m,u as d,l,e as b}from"./render-cart-D6BsKffK.js";let p;async function k(t){for(const o of t)try{let n=JSON.parse(localStorage.getItem("cartItems")||"[]");const e=await f(o),r=s(`.prod_${e.id} .prod__checkbox input`),c=s(`.prod_${e.id} .dropdown__text`);if(!n.some(h=>h.id===e.id)){_(e,!0,"30",1),u(),m();continue}const i=s(`.prod_${e.id} .counter__items`);if(!r||!c||!i)return;const a=Number(i.textContent)+1;a>=999?d(`${e.id}`,r.checked,c.textContent||"30",999):d(`${e.id}`,r.checked,c.textContent||"30",a),l(),u()}catch(n){console.error(n)}}async function g(t){for(const o of t)try{let n=JSON.parse(localStorage.getItem("cartItems")||"[]");const e=await f(o.id),r=s(`.prod_${e.id} .prod__checkbox input`),c=s(`.prod_${e.id} .dropdown__text`);if(!n.some(h=>h.id===e.id)){_(e,!1,"30",o.counts),u(),m();continue}const i=s(`.prod_${e.id} .counter__items`);if(!r||!c||!i)return;const a=Number(i.textContent)+o.counts;a>=999?d(`${e.id}`,r.checked,c.textContent||"30",999):d(`${e.id}`,r.checked,c.textContent||"30",a),l(),u()}catch(n){console.error(n)}}function y(t){let o=JSON.parse(localStorage.getItem("cartItems")||"[]");o.length===0&&(p=!0,b(p)),o.some(e=>e.id===t.id)||_(t),u(),m()}function N(t){if(!t.disabled_subscribe)return;const o=s(`.prod_${t.id} .prod__checkbox input`),n=s(`.prod_${t.id} .dropdown__text`),e=s(".autoship__dropdown .dropdown__text");if(!e)return;const r=e.textContent,c=s(`.prod_${t.id} .counter__items`);!o||!n||!r||!c||(o.checked=!0,n.innerText=r,d(`${t.id}`,o.checked,n.textContent||"30",Number(c.textContent)))}function S(t){if(!t.disabled_subscribe)return;const o=s(`.prod_${t.id} .prod__checkbox input`),n=s(`.prod_${t.id} .dropdown__text`),e=s(`.prod_${t.id} .counter__items`);!o||!n||!e||(o.checked=!1,d(`${t.id}`,o.checked,n.textContent||"30",Number(e.textContent)))}function w(t){const o=s(`.prod_${t.id} .prod__checkbox input`),n=s(`.prod_${t.id} .dropdown__text`),e=s(`.prod_${t.id} .counter__items`),r=s(".count__counter .counter__items");let c=JSON.parse(localStorage.getItem("cartItems")||"[]");c.length===0&&(p=!0,b(p));const x=c.some(a=>a.id===t.id);if(!r)return;if(!x){_(t,!1,"30",Number(r.innerText)),u(),m();return}if(!o||!n||!e)return;const i=Number(e.textContent)+Number(r.innerText);i>999||i==999?d(`${t.id}`,o.checked,n.textContent||"30",999):d(`${t.id}`,o.checked,n.textContent||"30",i),l(),u()}export{k as a,g as b,y as c,N as d,w as e,S as r};
