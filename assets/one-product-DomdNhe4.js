import"./style-C406C8Tq.js";import{b as E,c as l,d as A,e as x,r as D,f as C,a as B,i as M}from"./header-XLP3G3JM.js";import{r as N}from"./render-card-B5pjaBXh.js";import{a as p}from"./use-api-UD5ZbRzq.js";import{g as n,c as s}from"./use-call-dom-DDNnwvp7.js";import"./axios-BrcDDtdF.js";import"./index-CKL1PcRE.js";const F=new URLSearchParams(window.location.search),T=F.get("id")||void 0,_=n(".add-to-cart__btn");async function R(){if(_&&T){const t=await p(T);U(t)}}function U(t){_&&_.addEventListener("click",i=>{E(t),l(i)})}const V=new URLSearchParams(window.location.search),v=V.get("id")||void 0,m=n(".autoship__on-off");async function H(t){if(m&&v){const i=await p(v);W(i,t)}}function W(t,i){if(m){if(m.classList.contains("autoship__on-off_active")){if(!JSON.parse(localStorage.getItem("cartItems")||"[]").some(r=>r.id===t.id)){A(t),x(t),l(i);return}x(t),l(i);return}D(t)}}const O=new URLSearchParams(window.location.search),P=O.get("id")||void 0;async function z(){const t=n(".autoship__dropdown");if(!P||!t)return;const i=await p(P);C(".count__counter"),J(i),j(),q(i),B(t)}function J(t){const i=n(".ilustrate"),e=n(".info__category"),a=n(".count__svg svg use"),r=n(".info__name"),c=n(".count__capsules span"),o=n(".count__mg span"),u=n(".autoship__text"),d=n(".add-to-cart__price"),f=n(".descripton__info"),g=n(".safety .inf"),h=n(".indications .inf"),y=n(".ingredients .inf"),w=n(".directions .inf"),b=n(".legal .inf");if(!t||!i||!e||!a||!r||!c||!o||!u||!d||!f||!g||!h||!y||!w||!b)return;t.type==="Vitamins & Dietary Supplements"&&s(i,"add","ilustrate_purple"),t.type==="Minerals"&&s(i,"add","ilustrate_green-mint"),t.type==="Prenatal Vitamins"&&s(i,"add","ilustrate_pink"),t.type==="Pain Relief"&&s(i,"add","ilustrate_blue"),t.type==="Antioxidants"&&s(i,"add","ilustrate_orange"),t.type==="Weight Loss"&&s(i,"add","ilustrate_dark-blue"),(t.type==="Probiotics"||t.type==="Sale%")&&s(i,"add","ilustrate_red");const S=n(".ilustrate__content img");S.src=t.img,t.type==="Vitamins & Dietary Supplements"&&(s(e,"add","info__category_purple"),a.setAttribute("href","#can")),t.type==="Minerals"&&(s(e,"add","info__category_green-mint"),a.setAttribute("href","#bottle")),t.type==="Prenatal Vitamins"&&(s(e,"add","info__category_pink"),a.setAttribute("href","#kit")),t.type==="Pain Relief"&&(s(e,"add","info__category_blue"),a.setAttribute("href","#box")),t.type==="Antioxidants"&&(s(e,"add","info__category_orange"),a.setAttribute("href","#can")),t.type==="Weight Loss"&&(s(e,"add","info__category_dark-blue"),a.setAttribute("href","#bottle")),(t.type==="Probiotics"||t.type==="Sale%")&&(s(e,"add","info__category_red"),a.setAttribute("href","#kit")),e.innerText=t.type,r.innerText=t.name,c.innerText=t.capsules.toString(),o.innerText=t.weight_mg.toString(),window.addEventListener("resize",()=>{window.innerWidth<768&&(u.innerText="Deliver every")});const k=$(t.price,t.discount);t.type==="Sale%"?(s(d,"add","add-to-cart__price_sale"),d.innerHTML=`<span><span class="price">$${t.price}</span> <span class="discount">-${t.discount}%</span></span> $${k}`):d.innerText=`$${t.price}`,K(d,t),f.innerText=t.description,g.innerText=t.satefy_information,h.innerText=t.indications,y.innerText=t.ingradients,w.innerText=t.directions,b.innerText=t.legal_disclaimer}function j(){const t=n(".info__backbtn");t&&t.addEventListener("click",()=>{window.location.href="shop.html"})}function q(t){const i=n(".autoship__on-off");if(!i)return;const e=n(".autoship__circle",i);e&&t.disabled_subscribe===!0&&i.addEventListener("click",async a=>{i.classList.toggle("autoship__on-off_active"),e.classList.toggle("autoship__circle_active"),H(a)})}function $(t,i,e=1){const a=parseFloat(t);if(isNaN(a))throw new Error("Invalid price format");return(a*(1-i/100)*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function G(t,i=1){const e=parseFloat(t);if(isNaN(e))throw new Error("Invalid price format");return(e*i).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function K(t,i){const e=n(".count__minus"),a=n(".count__plus"),r=n(".count__items");if(!t||!a||!e||!r)return;let c=Number(r.innerText),o="",u="";a.addEventListener("click",()=>{L(c,r,o,u,t,i)}),e.addEventListener("click",()=>{L(c,r,o,u,t,i)})}function L(t,i,e,a,r,c){t=Number(i.innerText),e=G(c.price,t),a=$(c.price,c.discount,t),c.type==="Sale%"?r.innerHTML=`<span>$${e} <span class="discount">-${c.discount}%</span></span> $${a}`:r.innerText=`$${e}`}document.addEventListener("DOMContentLoaded",async()=>{M(),await z(),R(),N(".you-like__cards","gray")});
