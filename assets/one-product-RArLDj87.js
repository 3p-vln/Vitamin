import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{i as E}from"./header-nXxOL-T1.js";import{r as A}from"./render-card-BVd9TdA8.js";import{b as D,c as d,d as C,e as x,r as B,f as M,i as N}from"./cart-CkkIn26D.js";import{a as f}from"./use-api-DTQNp6K8.js";import{g as n,c as a}from"./use-call-dom-DDNnwvp7.js";import{s as F,r as R}from"./stopPreload-BW9xUuEZ.js";const U=new URLSearchParams(window.location.search),T=U.get("id")||void 0,_=n(".add-to-cart__btn");async function V(){if(_&&T)try{const t=await f(T);if("errors"in t){console.error(t.errors);return}H(t)}catch(t){console.error(t)}}function H(t){_&&_.addEventListener("click",e=>{D(t),d(e)})}const W=new URLSearchParams(window.location.search),v=W.get("id")||void 0,m=n(".autoship__on-off");async function O(t){if(m&&v)try{const e=await f(v);if("errors"in e){console.error(e.errors);return}z(e,t)}catch(e){console.error(e)}}function z(t,e){if(m){if(m.classList.contains("autoship__on-off_active")){if(!JSON.parse(localStorage.getItem("cartItems")||"[]").some(s=>s.id===t.id)){C(t),x(t),d(e);return}x(t),d(e);return}B(t)}}const J=new URLSearchParams(window.location.search),P=J.get("id")||void 0;async function j(){const t=n(".autoship__dropdown");if(!(!P||!t))try{const e=await f(P);if("errors"in e){console.error(e.errors);return}M(".count__counter"),q(e),G(),K(e),N(t)}catch(e){console.error(e)}}function q(t){const e=n(".ilustrate"),i=n(".info__category"),r=n(".count__svg svg use"),s=n(".info__name"),c=n(".count__capsules span"),o=n(".count__mg span"),u=n(".autoship__text"),l=n(".add-to-cart__price"),p=n(".descripton__info"),g=n(".safety .inf"),h=n(".indications .inf"),y=n(".ingredients .inf"),w=n(".directions .inf"),b=n(".legal .inf");if(!t||!e||!i||!r||!s||!c||!o||!u||!l||!p||!g||!h||!y||!w||!b)return;t.type==="Vitamins & Dietary Supplements"&&a(e,"add","ilustrate_purple"),t.type==="Minerals"&&a(e,"add","ilustrate_green-mint"),t.type==="Prenatal Vitamins"&&a(e,"add","ilustrate_pink"),t.type==="Pain Relief"&&a(e,"add","ilustrate_blue"),t.type==="Antioxidants"&&a(e,"add","ilustrate_orange"),t.type==="Weight Loss"&&a(e,"add","ilustrate_dark-blue"),(t.type==="Probiotics"||t.type==="Sale%")&&a(e,"add","ilustrate_red");const S=n(".ilustrate__content img");S.src=t.img,t.type==="Vitamins & Dietary Supplements"&&(a(i,"add","info__category_purple"),r.setAttribute("href","#can")),t.type==="Minerals"&&(a(i,"add","info__category_green-mint"),r.setAttribute("href","#bottle")),t.type==="Prenatal Vitamins"&&(a(i,"add","info__category_pink"),r.setAttribute("href","#kit")),t.type==="Pain Relief"&&(a(i,"add","info__category_blue"),r.setAttribute("href","#box")),t.type==="Antioxidants"&&(a(i,"add","info__category_orange"),r.setAttribute("href","#can")),t.type==="Weight Loss"&&(a(i,"add","info__category_dark-blue"),r.setAttribute("href","#bottle")),(t.type==="Probiotics"||t.type==="Sale%")&&(a(i,"add","info__category_red"),r.setAttribute("href","#kit")),i.innerText=t.type,s.innerText=t.name,c.innerText=t.capsules.toString(),o.innerText=t.weight_mg.toString(),window.addEventListener("resize",()=>{window.innerWidth<768&&(u.innerText="Deliver every")});const k=$(t.price,t.discount);t.type==="Sale%"?(a(l,"add","add-to-cart__price_sale"),l.innerHTML=`<span><span class="price">$${t.price}</span> <span class="discount">-${t.discount}%</span></span> $${k}`):l.innerText=`$${t.price}`,X(l,t),p.innerText=t.description,g.innerText=t.satefy_information,h.innerText=t.indications,y.innerText=t.ingradients,w.innerText=t.directions,b.innerText=t.legal_disclaimer}function G(){const t=n(".info__backbtn");t&&t.addEventListener("click",()=>{window.location.href="shop.html"})}function K(t){const e=n(".autoship__on-off");if(!e)return;const i=n(".autoship__circle",e);i&&t.disabled_subscribe===!0&&e.addEventListener("click",async r=>{e.classList.toggle("autoship__on-off_active"),i.classList.toggle("autoship__circle_active"),O(r)})}function $(t,e,i=1){const r=parseFloat(t);if(isNaN(r))throw new Error("Invalid price format");return(r*(1-e/100)*i).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function Q(t,e=1){const i=parseFloat(t);if(isNaN(i))throw new Error("Invalid price format");return(i*e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function X(t,e){const i=n(".count__minus"),r=n(".count__plus"),s=n(".count__items");if(!t||!r||!i||!s)return;let c=Number(s.innerText),o="",u="";r.addEventListener("click",()=>{L(c,s,o,u,t,e)}),i.addEventListener("click",()=>{L(c,s,o,u,t,e)})}function L(t,e,i,r,s,c){t=Number(e.innerText),i=Q(c.price,t),r=$(c.price,c.discount,t),c.type==="Sale%"?s.innerHTML=`<span>$${i} <span class="discount">-${c.discount}%</span></span> $${r}`:s.innerText=`$${i}`}document.addEventListener("DOMContentLoaded",async()=>{E(),await j(),await V(),await A(".you-like__cards","gray"),F()});R();
