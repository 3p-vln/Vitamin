import{a as l,s as f,h as g}from"./render-card-BobNnkSA.js";import{c as r,g as m,a as w}from"./use-call-dom-DDNnwvp7.js";import{s as p}from"./stopPreload-BW9xUuEZ.js";import"./use-api-CdSl8Y54.js";const n=w(".filter__item"),d=m(".catalog__content .dropdown__text");async function E(){const i=".catalog-list__content";if(!n||!d||!i)return;const o=new URLSearchParams(window.location.search);let s=1,t=o.get("category")||void 0;n.forEach(e=>{const a=e.innerText.trim();!t&&a==="All categories"||a===t?(r(e,"add","filter__item_active"),d.innerText=a):r(e,"remove","filter__item_active")}),await l(i,s,t),window.innerWidth>=768&&f(i,t),window.innerWidth<768&&await g(i,t),p(),n.forEach(e=>{e.addEventListener("click",async()=>{const a=e.innerText.trim();s=1,a==="All categories"?(o.delete("category"),t=void 0):(o.set("category",a),t=a),window.history.pushState({},"",`?${o.toString()}`);const c=m(i);c&&(c.innerHTML=""),n.forEach(_=>{r(_,"remove","filter__item_active")}),r(e,"add","filter__item_active"),await l(i,s,t)})})}export{E as default};
