import{g as i,a as o,c as u}from"./use-call-dom-CaqOo_cc.js";/* empty css              */import{J as g}from"./just-validate.es-C73wyOde.js";function l(){return new Promise(e=>{const t=i("#firstQuestion"),a=i("#firstName");if(!t||!a){e(!1);return}const n=new g(t,{focusInvalidField:!0,lockForm:!0,validateBeforeSubmitting:!0});if(n.addField("#firstName",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:2,errorMessage:"Must be at least 2 characters"},{rule:"maxLength",value:50,errorMessage:"Must be less than 50 characters"},{rule:"customRegexp",value:/^[\p{L}]+$/u,errorMessage:"Only letters are allowed"}]),document.readyState==="complete"){n.revalidate().then(s=>{s&&localStorage.setItem("firstName",a.value),e(s)});return}e(!1)})}function d(){return new Promise(e=>{const t=i("#emailQuestion"),a=i("#email");if(!t||!a){e(!1);return}const n=new g(t,{focusInvalidField:!0,lockForm:!0,validateBeforeSubmitting:!0});if(n.addField("#email",[{rule:"required",errorMessage:"This field is required"},{rule:"customRegexp",value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z]{2,})$/,errorMessage:"Write correct email"}]),document.readyState==="complete"){n.revalidate().then(s=>{e(s)});return}e(!1)})}const f=i(".count__current"),c=o(".quiz"),m=o("#next-btn"),h=i(".back");let r=p();function p(){const e=new URLSearchParams(window.location.search);return parseInt(e.get("question")||"0",10)}function _(e){const t=new URLSearchParams(window.location.search);t.set("question",e.toString()),window.history.replaceState({},"",`${window.location.pathname}?${t.toString()}`)}function v(e){c.forEach(t=>t.classList.remove("active")),c[e].classList.add("active"),f&&(f.textContent=(e+1).toString()),_(e)}function w(e){const t=r+e;t>=0&&t<c.length&&(r=t,v(r)),t<0&&window.history.back()}async function L(){v(r),m&&(await l(),await d(),m.forEach(e=>{e.addEventListener("click",async t=>{if(t.preventDefault(),t.stopPropagation(),!(r===0&&!await l())){if(r===8){if(!await d())return;window.location.href="/Vitamin/personal-pack.html";return}w(1)}})}),h&&h.addEventListener("click",()=>w(-1)))}const q=o(".quiz__btns");function E(){q.forEach(e=>{const t=o(".quiz__btn",e);t.forEach(a=>{a.addEventListener("click",()=>{t.forEach(n=>{u(n,"remove","quiz__btn_active")}),a.classList.contains("quiz__btn_active")||u(a,"add","quiz__btn_active")})})})}document.addEventListener("DOMContentLoaded",async()=>{L(),E()});
