import{g as i,a as o,c as d}from"./use-call-dom-CaqOo_cc.js";/* empty css              */import{J as p}from"./just-validate.es-C73wyOde.js";function f(){return new Promise(e=>{const t=i("#firstQuestion"),n=i("#firstName");if(!t||!n){e(!1);return}const a=new p(t,{focusInvalidField:!0,lockForm:!0,validateBeforeSubmitting:!0});a.addField("#firstName",[{rule:"required",errorMessage:"This field is required"},{rule:"minLength",value:2,errorMessage:"Must be at least 2 characters"},{rule:"maxLength",value:50,errorMessage:"Must be less than 50 characters"},{rule:"customRegexp",value:/^[\p{L}]+$/u,errorMessage:"Only letters are allowed"}]);const u=new Event("input",{bubbles:!0});if(n.dispatchEvent(u),n.addEventListener("blur",()=>a.revalidateField("#firstName")),document.readyState==="complete"){a.revalidate().then(s=>{s&&localStorage.setItem("firstName",n.value),e(s)});return}e(!1)})}function m(){return new Promise(e=>{const t=i("#emailQuestion"),n=i("#email");if(!t||!n){e(!1);return}const a=new p(t,{focusInvalidField:!0,lockForm:!0,validateBeforeSubmitting:!0});a.addField("#email",[{rule:"required",errorMessage:"This field is required"},{rule:"customRegexp",value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z]{2,})$/,errorMessage:"Write correct email"}]);const u=new Event("input",{bubbles:!0});if(n.dispatchEvent(u),n.addEventListener("blur",()=>a.revalidateField("#email")),document.readyState==="complete"){a.revalidate().then(s=>{e(s)});return}e(!1)})}const v=i(".count__current"),l=o(".quiz"),h=o("#next-btn"),w=i(".back");let r=b();function b(){const e=new URLSearchParams(window.location.search);return parseInt(e.get("question")||"0",10)}function E(e){const t=new URLSearchParams(window.location.search);t.set("question",e.toString()),window.history.replaceState({},"",`${window.location.pathname}?${t.toString()}`)}function g(e){l.forEach(t=>t.classList.remove("active")),l[e].classList.add("active"),v&&(v.textContent=(e+1).toString()),E(e)}function c(e){const t=r+e;t>=0&&t<l.length&&(r=t,g(r)),t<0&&window.history.back()}async function L(){g(r),h&&(await f(),await m(),h.forEach(e=>{e.addEventListener("click",async t=>{if(t.preventDefault(),r===0){if(!await f())return;c(1);return}if(r===8){if(!await m())return;window.location.href="/Vitamin/personal-pack.html";return}c(1)})}),w&&w.addEventListener("click",()=>c(-1)))}const _=o(".quiz__btns");function q(){_.forEach(e=>{const t=o(".quiz__btn",e);t.forEach(n=>{n.addEventListener("click",()=>{t.forEach(a=>{d(a,"remove","quiz__btn_active")}),n.classList.contains("quiz__btn_active")||d(n,"add","quiz__btn_active")})})})}document.addEventListener("DOMContentLoaded",async()=>{L(),q()});
